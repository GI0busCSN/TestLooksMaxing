const __vite__fileDeps=["assets/index-29hgtFFF.js","assets/index-DFDevLo0.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as w,r as l,a as L,o as i,d as x,f as n,w as o,g as m,t as $,n as j,i as a,l as F,b as y,e as I,k as N,F as V,u as O,m as S,p as q}from"./index-29hgtFFF.js";import z from"./LoadingScreen-D0eZi6xR.js";import D from"./ArticleParser-WApIwBwo.js";const U={class:"card__inner"},G={__name:"trainigsCard",props:["card"],setup(M){const c=M;return(u,d)=>{const _=l("MaxText");return i(),L("div",{class:"card",style:j("background-image: url('".concat(c.card.img,"')"))},[x("div",U,[n(_,null,{default:o(()=>[m($(c.card.title),1)]),_:1})])],4)}}},H=w(G,[["__scopeId","data-v-b33b2cc5"]]),J={class:"cards"},C="https://raw.githubusercontent.com/GI0busCSN/LooksMax-Articles/main/AllArticles.json",K={__name:"Trainings",setup(M){const c=S(()=>q(()=>import("./index-29hgtFFF.js").then(t=>t.aq),__vite__mapDeps([0,1]))),u=a(),d=a(),_=a(null),v=a([]),f=a(!1),p=a(!0),k=a("");async function g(t){console.log("Fetching trainings...");try{f.value=!0;const s=await(await fetch(t)).json();return f.value=!1,P(),console.log("Trainings fetched:",s),p.value=!0,s}catch(e){return p.value=!1,f.value=!1,setTimeout(()=>{d.value.open()},300),console.error("Failed to fetch trainings:",e),[]}}F(async()=>{v.value=await g(C)});let b=a("");const A=async t=>{var e;p.value&&(b=t,(e=u.value)==null||e.open())},B=async()=>{const t=await g(b);k.value=await t[0].info.title||"",_.value.parseArticle(t)},E=()=>{var t;(t=u.value)==null||t.dismiss()},P=()=>{var t;(t=d.value)==null||t.dismiss(),p.value||E()};return(t,e)=>{const s=l("MaxButton"),R=l("MaxModal"),T=l("MaxText"),h=l("BaseLayout");return i(),y(h,null,{default:o(()=>[x("div",J,[(i(!0),L(V,null,N(v.value,r=>(i(),y(s,{class:"bg-transparent full-width align-left",key:r.id,onClick:Q=>A(r.URL)},{default:o(()=>[n(H,{card:r},null,8,["card"])]),_:2},1032,["onClick"]))),128))]),v.value.length===0?(i(),y(z,{key:0})):I("",!0),n(R,{ref_key:"modalPreview",ref:u,title:k.value},{default:o(()=>[n(D,{ref_key:"parserObj",ref:_,onReady:e[0]||(e[0]=r=>B())},null,512)]),_:1},8,["title"]),n(O(c),{ref_key:"modalError",ref:d,title:"Failed Connection"},{default:o(()=>[n(T,{class:"large center"},{default:o(()=>[...e[2]||(e[2]=[m(" Connection to the server failed❌ ",-1)])]),_:1}),n(T,{class:"description center"},{default:o(()=>[...e[3]||(e[3]=[m(" Please check your network connection and try again🛜 ",-1)])]),_:1}),e[5]||(e[5]=x("br",null,null,-1)),n(s,{size:"250",disabled:f.value,onClick:e[1]||(e[1]=r=>g(C))},{default:o(()=>[...e[4]||(e[4]=[m("Retry",-1)])]),_:1},8,["disabled"])]),_:1},512)]),_:1})}}},Z=w(K,[["__scopeId","data-v-680bfcbf"]]);export{Z as default};
