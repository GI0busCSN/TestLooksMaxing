import{_ as N,c as k,r as B,a as O,o as y,b as j,d as w,e as F,T as ee,n as W,f as b,w as E,g as te,t as x,F as H,u as G,h as ne,I as re,i as T,j as q,k as Z,l as Q,m as ie,p as ae,q as oe,s as se,v as U,x as ce,y as ue}from"./index-Ou21V5w3.js";const le={__name:"CardRating",props:["card"],setup(r){const e=r,n=k(()=>{const t=e.card.rating;return t<4?"red":t>=4&&t<7?"yellow":t>=7?"green":"gray"});return console.log(e.card.rating),(t,i)=>{const c=B("MaxText");return y(),O(H,null,[(y(),j(ee,{to:"body"},[t.holded?(y(),O("div",{key:0,class:"overlay",onClick:i[0]||(i[0]=u=>t.holded=!1)})):F("",!0)])),w("div",{class:"card",style:W("background-image: url('".concat(e.card.img,"')"))},[w("div",{class:"card__inner",style:W("box-shadow: 0px -79px 50px -69px ".concat(n.value," inset; :hover {display: none}"))},[b(c,{class:"large invert"},{default:E(()=>[te(x(e.card.rating),1)]),_:1})],4)],4)],64)}}},de=N(le,[["__scopeId","data-v-91220a35"]]),fe={class:"card"},he={__name:"CardAddNew",setup(r){return(e,n)=>{const t=B("ion-icon");return y(),j(G(re),{tab:"createScan",href:"/TestLooksMaxing/tabs/scan/createScan"},{default:E(()=>[w("div",fe,[b(t,{"aria-hidden":"true",icon:G(ne)},null,8,["icon"])])]),_:1})}}},pe=N(he,[["__scopeId","data-v-5c0ee189"]]),ve={class:"dropdown"},ge={class:"header"},_e={class:"content"},we={key:0,class:"list"},ye={class:"content"},me={__name:"MaxDropdown",props:["defaultValue"],emits:["valueChanged"],setup(r,{emit:e}){const n=T(!1),t=e,i=r,c=[{id:0,icon:"ðŸ†•",title:"By New"},{id:1,icon:"ðŸ“‰",title:"By Old"},{id:2,icon:"ðŸ“ˆ",title:"By Rating"}],u=T(c[0]);if(i.defaultValue!==void 0){console.log("props.defaultValue",i.defaultValue);const s=c.find(f=>f.id===i.defaultValue),_=c.find(f=>f.title===i.defaultValue);u.value=s||_||c[0]}else console.log("props.defaultValue",i.defaultValue);function g(s){u.value=s,n.value=!1}return q(u,s=>{t("valueChanged",s.id)},{immediate:!0}),(s,_)=>{const f=B("MaxButton");return y(),O("div",ve,[w("div",ge,[b(f,{class:"bg-transparent align-right",onClick:_[0]||(_[0]=v=>n.value=!n.value),size:150},{default:E(()=>[w("div",_e,[w("span",null,x(u.value.icon),1),w("span",null,x(u.value.title),1)])]),_:1})]),n.value?(y(),O("div",we,[w("ul",null,[(y(!0),O(H,null,Z(c.filter(v=>v.id!==u.value.id),v=>(y(),O("li",{key:v.id},[b(f,{class:"bg-transparent",size:150,onClick:S=>g(v)},{default:E(()=>[w("div",ye,[w("span",null,x(v.icon),1),w("span",null,x(v.title),1)])]),_:2},1032,["onClick"])]))),128))])])):F("",!0)])}}},Ce=N(me,[["__scopeId","data-v-e504fea7"]]);function Se(r,e){return oe()?(se(r,e),!0):!1}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Oe=()=>{};function be(...r){if(r.length!==1)return ie(...r);const e=r[0];return typeof e=="function"?Q(ae(()=>({get:e,set:Oe}))):T(e)}function ke(r,e){function n(...t){return new Promise((i,c)=>{Promise.resolve(r(()=>e.apply(this,t),{fn:e,thisArg:this,args:t})).then(i).catch(c)})}return n}const X=r=>r();function xe(r=X,e={}){const{initialState:n="active"}=e,t=be(n==="active");function i(){t.value=!1}function c(){t.value=!0}const u=(...g)=>{t.value&&r(...g)};return{isActive:Q(t),pause:i,resume:c,eventFilter:u}}function Ee(r,e,n={}){const{eventFilter:t=X,...i}=n;return q(r,ke(t,e),i)}function Te(r,e,n={}){const{eventFilter:t,initialState:i="active",...c}=n,{eventFilter:u,pause:g,resume:s,isActive:_}=xe(t,{initialState:i});return{stop:Ee(r,e,{...c,eventFilter:u}),pause:g,resume:s,isActive:_}}function A(r){return new Promise((e,n)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>n(r.error)})}function Ae(r,e){let n;const t=()=>{if(n)return n;const i=indexedDB.open(r);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=A(i),n.then(c=>{c.onclose=()=>n=void 0},()=>{}),n};return(i,c)=>t().then(u=>c(u.transaction(e,i).objectStore(e)))}let $;function M(){return $||($=Ae("keyval-store","keyval")),$}function De(r,e=M()){return e("readonly",n=>A(n.get(r)))}function Le(r,e,n=M()){return n("readwrite",t=>(t.put(e,r),A(t.transaction)))}function Ie(r,e,n=M()){return n("readwrite",t=>new Promise((i,c)=>{t.get(r).onsuccess=function(){try{t.put(e(this.result),r),i(A(t.transaction))}catch(u){c(u)}}}))}function Ve(r,e=M()){return e("readwrite",n=>(n.delete(r),A(n.transaction)))}function je(r,e,n={}){const{flush:t="pre",deep:i=!0,shallow:c=!1,onError:u=d=>{console.error(d)},writeDefaults:g=!0,serializer:s={read:d=>d,write:d=>d}}=n,_=U(!1),f=(c?U:T)(e),v=ce(e);async function S(){try{const d=await De(r);d===void 0?v!=null&&g&&await Le(r,s.write(v)):f.value=s.read(d)}catch(d){u(d)}_.value=!0}S();async function o(){try{if(f.value==null)await Ve(r);else{const d=ue(f.value),l=s.write(d);await Ie(r,()=>l)}}catch(d){u(d)}}const{pause:h,resume:a}=Te(f,()=>o(),{flush:t,deep:i});async function p(d){h(),f.value=d,await o(),a()}return{set:p,isFinished:_,data:f}}var I={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var J;function Ne(){if(J)return I;J=1,I.parse=u,I.serialize=_;var r=Object.prototype.toString,e=Object.prototype.hasOwnProperty,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,t=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(o,h){if(typeof o!="string")throw new TypeError("argument str must be a string");var a={},p=o.length;if(p<2)return a;var d=h&&h.decode||f,l=0,C=0,m=0;do{if(C=o.indexOf("=",l),C===-1)break;if(m=o.indexOf(";",l),m===-1)m=p;else if(C>m){l=o.lastIndexOf(";",C-1)+1;continue}var D=g(o,l,C),P=s(o,C,D),K=o.slice(D,P);if(!e.call(a,K)){var L=g(o,C+1,m),R=s(o,m,L);o.charCodeAt(L)===34&&o.charCodeAt(R-1)===34&&(L++,R--);var Y=o.slice(L,R);a[K]=S(Y,d)}l=m+1}while(l<p);return a}function g(o,h,a){do{var p=o.charCodeAt(h);if(p!==32&&p!==9)return h}while(++h<a);return a}function s(o,h,a){for(;h>a;){var p=o.charCodeAt(--h);if(p!==32&&p!==9)return h+1}return a}function _(o,h,a){var p=a&&a.encode||encodeURIComponent;if(typeof p!="function")throw new TypeError("option encode is invalid");if(!n.test(o))throw new TypeError("argument name is invalid");var d=p(h);if(!t.test(d))throw new TypeError("argument val is invalid");var l=o+"="+d;if(!a)return l;if(a.maxAge!=null){var C=Math.floor(a.maxAge);if(!isFinite(C))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+C}if(a.domain){if(!i.test(a.domain))throw new TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!c.test(a.path))throw new TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){var m=a.expires;if(!v(m)||isNaN(m.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+m.toUTCString()}if(a.httpOnly&&(l+="; HttpOnly"),a.secure&&(l+="; Secure"),a.partitioned&&(l+="; Partitioned"),a.priority){var D=typeof a.priority=="string"?a.priority.toLowerCase():a.priority;switch(D){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(a.sameSite){var P=typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite;switch(P){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return l}function f(o){return o.indexOf("%")!==-1?decodeURIComponent(o):o}function v(o){return r.call(o)==="[object Date]"}function S(o,h){try{return h(o)}catch(a){return o}}return I}var V=Ne();function Be(){const r=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof r=="boolean"?r:typeof document=="object"&&typeof document.cookie=="string"}function Me(r){return typeof r=="string"?V.parse(r):typeof r=="object"&&r!==null?r:{}}function z(r,e={}){const n=Pe(r);if(!e.doNotParse)try{return JSON.parse(n)}catch(t){}return r}function Pe(r){return r&&r[0]==="j"&&r[1]===":"?r.substr(2):r}class Re{constructor(e,n={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const i=this.cookies;this.cookies=V.parse(document.cookie),this._checkChanges(i)};const t=typeof document>"u"?"":document.cookie;this.cookies=Me(e||t),this.defaultSetOptions=n,this.HAS_DOCUMENT_COOKIE=Be()}_emitChange(e){for(let n=0;n<this.changeListeners.length;++n)this.changeListeners[n](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach(t=>{e[t]!==this.cookies[t]&&this._emitChange({name:t,value:z(this.cookies[t])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e,n={}){return n.doNotUpdate||this.update(),z(this.cookies[e],n)}getAll(e={}){e.doNotUpdate||this.update();const n={};for(let t in this.cookies)n[t]=z(this.cookies[t],e);return n}set(e,n,t){t?t=Object.assign(Object.assign({},this.defaultSetOptions),t):t=this.defaultSetOptions;const i=typeof n=="string"?n:JSON.stringify(n);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:i}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=V.serialize(e,i,t)),this._emitChange({name:e,value:n,options:t})}remove(e,n){const t=n=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),n),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=V.serialize(e,"",t)),this._emitChange({name:e,value:void 0,options:n})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const n=this.changeListeners.indexOf(e);n>=0&&this.changeListeners.splice(n,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}function $e(r,{doNotParse:e=!1,autoUpdateDependencies:n=!1}={},t=new Re){const i=n?[...r||[]]:r;let c=t.getAll({doNotParse:!0});const u=U(0),g=()=>{const s=t.getAll({doNotParse:!0});ze(i||null,s,c)&&u.value++,c=s};return t.addChangeListener(g),Se(()=>{t.removeChangeListener(g)}),{get:(...s)=>(n&&i&&!i.includes(s[0])&&i.push(s[0]),u.value,t.get(s[0],{doNotParse:e,...s[1]})),getAll:(...s)=>(u.value,t.getAll({doNotParse:e,...s[0]})),set:(...s)=>t.set(...s),remove:(...s)=>t.remove(...s),addChangeListener:(...s)=>t.addChangeListener(...s),removeChangeListener:(...s)=>t.removeChangeListener(...s)}}function ze(r,e,n){if(!r)return!0;for(const t of r)if(e[t]!==n[t])return!0;return!1}const Ue={class:"dropdown"},Fe={class:"cards"},He={__name:"Scan",setup(r){const{data:e}=je("res",[]),n=$e(["sortingType"]),t=n.get("sortingType"),i=T(t!==void 0?parseInt(t):1),c=k(()=>[...e.value||[]]),u=k(()=>[...e.value||[]].reverse()),g=k(()=>[...e.value||[]].sort((f,v)=>{var h,a,p,d;const S=((a=(h=f.res)==null?void 0:h[0])==null?void 0:a.averageScore)||0;return(((d=(p=v.res)==null?void 0:p[0])==null?void 0:d.averageScore)||0)-S})),s=k(()=>{switch(i.value){case 1:return c.value;case 0:return u.value;case 2:return g.value;default:return u.value}});function _(f){i.value=f,n.set("sortingType",f),console.log("Sort mode updated to:",f)}return console.log("sortMode.value",i.value),(f,v)=>{const S=B("BaseLayout");return y(),j(S,null,{default:E(()=>[w("div",Ue,[i.value>=0?(y(),j(Ce,{key:0,onValueChanged:_,defaultValue:i.value},null,8,["defaultValue"])):F("",!0)]),w("div",Fe,[b(pe),(y(!0),O(H,null,Z(s.value,o=>{var h,a;return y(),O("div",{class:"card",key:o.id},[b(de,{card:{img:o.firstP,rating:((a=(h=o.res)==null?void 0:h[0])==null?void 0:a.averageScore)||0}},null,8,["card"])])}),128))])]),_:1})}}},We=N(He,[["__scopeId","data-v-2b1d5a2a"]]);export{We as default};
