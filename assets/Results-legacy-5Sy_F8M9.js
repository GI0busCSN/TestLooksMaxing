System.register(["./index-legacy-BUR-15FX.js"],function(a,e){"use strict";var t,n,o,r,i,l,s,c,d,f,u,p,g,v,h,m,y,x;return{setters:[a=>{t=a._,n=a.j,o=a.k,r=a.r,i=a.a,l=a.o,s=a.b,c=a.f,d=a.l,f=a.d,u=a.s,p=a.w,g=a.e,v=a.t,h=a.F,m=a.i,y=a.X,x=a.h}],execute:function(){var e=document.createElement("style");e.textContent="ul[data-v-779caf67]{display:flex;flex-direction:column;background-color:rgba(0,0,0,.3);padding:15px;border-radius:25px}ul section[data-v-779caf67]{display:flex;flex-direction:column;width:100%}ul section .content[data-v-779caf67]{display:flex;flex-direction:column;gap:15px}ul section .content section[data-v-779caf67]{height:50px;width:100%;display:flex;flex-direction:row;align-items:center;align-content:center;justify-content:space-between}ul section .divider-thick[data-v-779caf67]{height:2px;width:100%;border-radius:4px;background-color:#2f2f2f;margin:5px 0}@keyframes pulse-icon-779caf67{0%,to{stroke:#9f7aea;filter:url(#neon-glow)}50%{stroke:#8872a7;filter:url(#neon-glow)}}.faceIdAnim-figma svg g[data-v-779caf67]{animation:pulse-icon-779caf67 3s ease-in-out infinite;filter:url(#neon-glow)}svg[data-v-779caf67]{width:150px;color:#9f7aea}.faceIdAnim-figma[data-v-779caf67]{display:flex;justify-content:center}.cards[data-v-779caf67]{display:flex;justify-content:center;margin-top:50px}.scan-container[data-v-779caf67]{position:relative;display:inline-block;border-radius:25px;overflow:hidden}.scan-overlay[data-v-779caf67]{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;mix-blend-mode:screen}.scan-grid[data-v-779caf67]{position:absolute;top:0;right:0;bottom:0;left:0;background-image:linear-gradient(rgba(147,71,255,.06) 1px,transparent 1px),linear-gradient(90deg,rgba(147,71,255,.06) 1px,transparent 1px);background-size:36px 36px,36px 36px;opacity:.9}.scan-line[data-v-779caf67]{position:absolute;left:-10%;width:120%;height:10%;transform:translateY(-140%);background:linear-gradient(90deg,rgba(147,71,255,0),rgba(147,71,255,.12),rgba(255,255,255,.9),rgba(147,71,255,.18),rgba(147,71,255,0));filter:drop-shadow(0 0 18px rgba(147,71,255,.9));animation:scan-move-779caf67 2.8s linear infinite}.scan-glow[data-v-779caf67]{position:absolute;left:0;right:0;height:100%;top:0;background:radial-gradient(ellipse at center,rgba(147,71,255,.06) 0%,rgba(147,71,255,.02) 30%,transparent 60%);mix-blend-mode:screen;pointer-events:none}@keyframes scan-move-779caf67{0%{transform:translateY(-140%);opacity:0}8%{opacity:.9}50%{transform:translateY(1020%);opacity:1}60%{transform:translateY(1020%)}92%{opacity:.9}to{transform:translateY(-140%);opacity:0}}.large.center[data-v-779caf67]{animation:pulse-text-779caf67 3s ease-in-out infinite}@keyframes pulse-text-779caf67{0%,to{color:#9f7aea;text-shadow:0 0 0 rgba(159,122,234,0)}50%{color:#d6bbfc;text-shadow:0 0 18px rgba(147,71,255,.45)}}\n",document.head.appendChild(e);const w={class:"wrapper"},b={class:"cards"},k={class:"card front"},M={class:"scan-container","aria-hidden":"false"},C={class:"rating"},_={href:"TestLooksMaxing/"},S={href:"TestLooksMaxing/"},P="https://text.pollinations.ai/openai";a("default",t({__name:"Results",props:["data"],setup(a){const e=a,t=n();async function T(a){const e=new FormData,t=a.replace(/^data:image\/(png|jpeg|jpg);base64,/,"");e.append("image",t);try{const a=await fetch("https://api.imgbb.com/1/upload?key=25cd5cd35f3e85431a2f1e96904d24f7",{method:"POST",body:e}),t=await a.json();if(t.success&&t.data&&t.data.url)return t.data.url;throw G(),new Error("Image upload failed")}catch(n){throw G(),console.error("Image upload error:",n),n}}async function j(){try{const a=await fetch("https://raw.githubusercontent.com/GI0busCSN/LooksMax-Articles/refs/heads/main/HumanValidationPromt.txt");return await a.text()}catch(a){return console.log("getValidationPromt with an error",a),null}}async function V(){try{const a=await fetch("https://raw.githubusercontent.com/GI0busCSN/LooksMax-Articles/refs/heads/main/AnalyticsPromt.txt");return await a.text()}catch(a){return console.log("getValidationPromt with an error",a),null}}const I=async(a,e,t)=>({model:"openai",messages:[{role:"system",content:await t()},{role:"user",content:JSON.stringify({frontPhoto:a,profilePhoto:e})}],temperature:1,stream:!1,reasoning_effort:"high"}),N=n(""),O=n("");async function E(){t.value="Scanning";try{var a,n;const[o,r]=await Promise.all([T(e.data.front),T(e.data.side)]),i=await I(o,r,j);console.log("Sending validation request:",i);const l=await fetch(P,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),s=await l.json(),c=null==s||null===(a=s.choices)||void 0===a||null===(a=a[0])||void 0===a||null===(a=a.message)||void 0===a?void 0:a.content;if(console.log("Validation response:",c),!c||c.toLowerCase().includes("error")){const a=await JSON.parse(c);return O.value=a[0].Error.PhotoError.reason,console.log("Validation failed or returned error"),t.value="ValidationError",void G()}const d=await I(o,r,V);console.log("Sending max request:",d);const f=await fetch(P,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),u=await f.json(),p=null==u||null===(n=u.choices)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.message)||void 0===n?void 0:n.content;if(console.log("MaxPrompt response:",p),p){t.value="Done";const a=await JSON.parse(p);N.value=a,function(a,e,t){const n=x("res",[]);n.value.push({id:Date.now(),res:a,firstP:e,secondP:t}),console.log(n.value)}(a,e.data.front,e.data.side)}else console.log("No content returned from MaxPrompt"),G(),t.value="Error"}catch(o){t.value="Error",G(),console.error("Request error:",o)}}o(()=>{E()});const A=n(null),G=()=>{var a;null===(a=A.value)||void 0===a||a.open()},L=n(null);return(e,n)=>{const o=r("MaxText"),x=r("MaxImage"),P=r("MaxButton"),T=r("MaxModal");return l(),i(h,null,[s("div",w,[n[3]||(n[3]=u('<div class="faceIdAnim-figma" id="faceIdIcon" data-v-779caf67><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-779caf67><defs data-v-779caf67><filter id="neon-glow" x="-50%" y="-50%" width="200%" height="200%" data-v-779caf67><feGaussianBlur in="SourceGraphic" stdDeviation="1.5" result="blur" data-v-779caf67></feGaussianBlur><feMerge data-v-779caf67><feMergeNode in="blur" data-v-779caf67></feMergeNode><feMergeNode in="SourceGraphic" data-v-779caf67></feMergeNode></feMerge></filter></defs><g filter="url(#neon-glow)" stroke="#00e08f" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-779caf67><path class="corner corner-tl" d="M8 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V8" data-v-779caf67></path><path class="corner corner-bl" d="M8 21H7.8C6.11984 21 5.27976 21 4.63803 20.673C4.07354 20.3854 3.6146 19.9265 3.32698 19.362C3 18.7202 3 17.8802 3 16.2V16" data-v-779caf67></path><path class="corner corner-tr" d="M21 8V7.8C21 6.11984 21 5.27976 20.673 4.63803C20.3854 4.07354 19.9265 3.6146 19.362 3.32698C18.7202 3 17.8802 3 16.2 3H16" data-v-779caf67></path><path class="corner corner-br" d="M21 16V16.2C21 17.8802 21 18.7202 20.673 19.362C20.3854 19.9265 19.9265 20.3854 19.362 20.673C18.7202 21 17.8802 21 16.2 21H16" data-v-779caf67></path><path class="face-eye eye-left" d="M7.5 8V9.5" data-v-779caf67></path><path class="face-eye eye-right" d="M16.5 8V9.5" data-v-779caf67></path><path class="face-nose" d="M11 12.6001C11.8 12.6001 12.5 11.9001 12.5 11.1001V8" data-v-779caf67></path><path class="face-mouth" d="M15.2002 15.2C13.4002 17 10.5002 17 8.7002 15.2" data-v-779caf67></path></g></svg></div>',1)),f(o,{class:"large center"},{default:p(()=>[g(v(t.value)+" your face...",1)]),_:1}),f(o,{class:"description center"},{default:p(()=>[...n[1]||(n[1]=[g("This should only take a minute",-1)])]),_:1}),s("div",b,[s("div",k,[s("div",M,[f(x,{img:a.data.front,borderRadius:25},null,8,["img"]),n[2]||(n[2]=s("div",{class:"scan-overlay","aria-hidden":"true"},[s("div",{class:"scan-line",role:"presentation"}),s("div",{class:"scan-grid",role:"presentation"}),s("div",{class:"scan-glow",role:"presentation"})],-1))])])])]),n[11]||(n[11]=s("br",null,null,-1)),"Done"==t.value?(l(),c(P,{key:0,size:450,onClick:n[0]||(n[0]=a=>{var e;null===(e=L.value)||void 0===e||e.open()})},{default:p(()=>[...n[4]||(n[4]=[g("See results",-1)])]),_:1})):d("",!0),f(T,{ref_key:"resultModal",ref:L},{default:p(()=>[s("ul",null,[(l(!0),i(h,null,m(N.value,(a,e)=>(l(),i("section",{key:e},[(l(!0),i(h,null,m(a.features,(a,e)=>(l(),i("div",{class:"content",key:e},[s("section",null,[f(o,{class:"icon"},{default:p(()=>[g(v(a.emoji),1)]),_:2},1024),s("li",null,[s("strong",null,v(e),1),g(": "+v(a.trait),1)]),s("div",C,[f(o,null,{default:p(()=>[g("â­ "+v(a.score),1)]),_:2},1024)])]),n[5]||(n[5]=s("div",{class:"divider-thick"},null,-1))]))),128)),n[6]||(n[6]=s("div",{class:"divider-thick"},null,-1)),f(o,null,{default:p(()=>[g("Average Score: "+v(a.averageScore),1)]),_:2},1024),f(o,null,{default:p(()=>[g("Training Type: "+v(a.typeOfTraining.TrainingId),1)]),_:2},1024)]))),128)),s("a",_,[f(P,null,{default:p(()=>[...n[7]||(n[7]=[g("Try againðŸ”",-1)])]),_:1})])])]),_:1},512),f(y,{ref_key:"modalError",ref:A,title:"Failed Connection"},{default:p(()=>[f(o,{class:"large center"},{default:p(()=>[...n[8]||(n[8]=[g(" Connection to the server failedâŒ ",-1)])]),_:1}),f(o,{class:"description center"},{default:p(()=>[g(v(O.value?O.value:"Please check your network connection and try againðŸ›œ"),1)]),_:1}),n[10]||(n[10]=s("br",null,null,-1)),s("a",S,[f(P,{size:"250"},{default:p(()=>[...n[9]||(n[9]=[s("a",{href:"TestLooksMaxing/"},"Retry",-1)])]),_:1})])]),_:1},512)],64)}}},[["__scopeId","data-v-779caf67"]]))}}});
