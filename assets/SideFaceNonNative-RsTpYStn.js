import{_ as N,j as u,Y as z,r as c,a as P,o as y,d as s,w as o,u as f,b as l,e as a,Z as L,$ as A,a0 as K,a1 as U,f as T,l as S,a2 as V,t as $,F as E}from"./index-DHgHVS3C.js";import{S as b,N as H,P as j,C as G,_ as W}from"./CameraView-CeqQWzD1.js";const Y={class:"tutorial"},q={class:"carousel__item"},O={class:"slide__inner"},Z={class:"carousel__item"},J={class:"slide__inner"},Q={class:"carousel__item"},X={class:"slide__inner"},ee={__name:"ScanTutorialSide",emits:["tutorial-complete"],setup(F,{emit:x}){const i=u(!1),p={itemsToShow:1,wrapAround:!1,height:500,gap:0},_=x;return z(i,v=>{v&&_("tutorial-complete")}),(v,e)=>{const n=c("MaxText"),k=c("MaxButton");return y(),P("div",Y,[s(f(G),L(A(p)),{addons:o(()=>[s(f(H)),s(f(j))]),default:o(()=>[s(f(b),null,{default:o(()=>[l("div",q,[e[5]||(e[5]=l("div",{class:"overlay"},null,-1)),l("div",O,[s(n,{class:"large"},{default:o(()=>[...e[1]||(e[1]=[a("Get readyðŸ“¸",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[2]||(e[2]=[a("Sit or stand sideways to the camera ðŸ“·",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[3]||(e[3]=[a("Keep your face fully in view (donâ€™t crop your chin or head) ðŸ§ ",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[4]||(e[4]=[a("Choose a spot with good, soft lightingðŸ’¡",-1)])]),_:1})])])]),_:1}),s(f(b),null,{default:o(()=>[l("div",Z,[e[10]||(e[10]=l("div",{class:"overlay"},null,-1)),l("div",J,[s(n,{class:"large"},{default:o(()=>[...e[6]||(e[6]=[a("Almost thereðŸ“¸",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[7]||(e[7]=[a("Turn your head 90Â° to show your full side profile â†©ï¸",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[8]||(e[8]=[a("Keep your posture straight and shoulders relaxed ðŸ§â€â™€ï¸",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[9]||(e[9]=[a("Look ahead naturally, not up or down ðŸ‘ï¸",-1)])]),_:1})])])]),_:1}),s(f(b),null,{default:o(()=>[l("div",Q,[e[16]||(e[16]=l("div",{class:"overlay"},null,-1)),l("div",X,[s(n,{class:"large"},{default:o(()=>[...e[11]||(e[11]=[a("You got itðŸ“¸",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[12]||(e[12]=[a("Press the â€œTake a selfieâ€ button ðŸ“¸",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[13]||(e[13]=[a("Hold still while it captures â³",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[14]||(e[14]=[a("If you donâ€™t like it â€” try again ðŸ”",-1)])]),_:1}),s(k,{class:"large",onClick:e[0]||(e[0]=C=>i.value=!0)},{default:o(()=>[...e[15]||(e[15]=[a("Got it! Let's take a selfie",-1)])]),_:1})])])]),_:1})]),_:1},16)])}}},te=N(ee,[["__scopeId","data-v-56583a7b"]]),se={class:"frontFace"},oe={class:"video-container"},ae={class:"video-container__sizer"},le={class:"inner"},ne={class:"tutorial"},ie={class:"upload-button"},re={__name:"SideFaceNonNative",emits:["picture-taken"],setup(F,{emit:x}){const i=u(!1),p=u(),_=u(null),v=u(""),e=u(null);u(!1);const n=x,k=()=>{_.value.click()},C=r=>{const t=r.target.files[0];if(t){v.value=t.name;const d=new FileReader;d.onload=w=>{e.value=w.target.result,p.value.open(),console.log("Uploaded file:",v.value)},d.readAsDataURL(t)}},I=()=>{const r=document.querySelector(".frontFace video");if(r)try{const t=document.createElement("canvas");t.width=r.videoWidth||r.clientWidth||500,t.height=r.videoHeight||r.clientHeight||500;const d=t.getContext("2d");if(!d)return;d.drawImage(r,0,0,t.width,t.height),e.value=t.toDataURL("image/png"),p.value.open(),console.log("ðŸ“¸ Ð¡Ð½Ð¸Ð¼Ð¾Ðº ÑÐ´ÐµÐ»Ð°Ð½!")}catch(t){console.error("Snapshot error",t)}},D=()=>{n("picture-taken",e.value),p.value.dismissDirect()},h=()=>{p.value.dismiss()},m=u(!1);return(r,t)=>{const d=c("MaxText"),w=c("ion-icon"),g=c("MaxButton"),B=c("MaxImage"),R=c("MaxModalPrevent");return y(),P(E,null,[l("div",se,[s(d,null,{default:o(()=>[...t[3]||(t[3]=[a("Take a side selfie",-1)])]),_:1}),l("div",oe,[l("div",ae,[K(l("div",le,[i.value?(y(),T(W,{key:0,ref_key:"cameraProp",ref:m},null,512)):S("",!0)],512),[[U,i.value]]),l("div",ne,[i.value?S("",!0):(y(),T(te,{key:0,onTutorialComplete:t[0]||(t[0]=M=>i.value=!0)}))])])]),t[5]||(t[5]=l("br",null,null,-1)),s(d,{class:"description"},{default:o(()=>[s(w,{"aria-hidden":"true",icon:f(V),class:"blub"},null,8,["icon"]),t[4]||(t[4]=a(" Make sure your face is well lit ",-1))]),_:1}),l("label",ie,[s(g,{class:"large",disabled:!i.value,onClick:k,size:400},{default:o(()=>[a($(i.value?"Upload from library":"Loading..."),1)]),_:1},8,["disabled"]),l("input",{type:"file",ref_key:"fileInput",ref:_,accept:"image/jpeg, image/png",onChange:C,style:{display:"none"}},null,544)]),s(g,{class:"large",disabled:!i.value||m.value.permissionDenied||!m.value.cameraReady,onClick:I,size:400},{default:o(()=>[a($(i.value&&!m.value.permissionDenied&&m.value.cameraReady?"Take a selfie":"Loading..."),1)]),_:1},8,["disabled"])]),s(R,{ref_key:"modalPreview",ref:p,title:"Are you happy with the photo?"},{default:o(()=>[s(B,{img:e.value,borderRadius:25},null,8,["img"]),t[8]||(t[8]=l("br",null,null,-1)),s(g,{onClick:t[1]||(t[1]=M=>D()),size:400},{default:o(()=>[...t[6]||(t[6]=[a("Keep",-1)])]),_:1}),s(g,{onClick:t[2]||(t[2]=M=>h()),size:400},{default:o(()=>[...t[7]||(t[7]=[a("Try again",-1)])]),_:1})]),_:1},512)],64)}}},pe=N(re,[["__scopeId","data-v-66c2bfdd"]]);export{pe as default};
