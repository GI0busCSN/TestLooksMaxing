const __vite__fileDeps=["assets/index-Csy_3z8E.js","assets/index-Cg1zYc_v.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as w,r as l,a as L,o as i,b as x,d as n,w as o,e as m,t as j,n as $,i as a,j as F,f as y,k as I,h as N,F as V,u as O,l as S,m as z}from"./index-Csy_3z8E.js";import D from"./LoadingScreen-C8iHnb9E.js";import U from"./ArticleParser-Dod3Qf_D.js";const q={class:"card__inner"},G={__name:"trainigsCard",props:["card"],setup(M){const c=M;return(u,d)=>{const _=l("MaxText");return i(),L("div",{class:"card",style:$("background-image: url('".concat(c.card.img,"')"))},[x("div",q,[n(_,null,{default:o(()=>[m(j(c.card.title),1)]),_:1})])],4)}}},H=w(G,[["__scopeId","data-v-b33b2cc5"]]),J={class:"cards"},C="https://raw.githubusercontent.com/GI0busCSN/LooksMax-Articles/main/AllArticles.json",K={__name:"Trainings",setup(M){const c=S(()=>z(()=>import("./index-Csy_3z8E.js").then(t=>t.ah),__vite__mapDeps([0,1]))),u=a(),d=a(),_=a(null),v=a([]),f=a(!1),p=a(!0),k=a("");async function g(t){console.log("Fetching trainings...");try{f.value=!0;const s=await(await fetch(t)).json();return f.value=!1,E(),console.log("Trainings fetched:",s),p.value=!0,s}catch(e){return p.value=!1,f.value=!1,setTimeout(()=>{d.value.open()},300),console.error("Failed to fetch trainings:",e),[]}}F(async()=>{v.value=await g(C)});let b=a("");const h=async t=>{var e;p.value&&(b=t,(e=u.value)==null||e.open())},A=async()=>{const t=await g(b);k.value=await t[0].info.title||"",_.value.parseArticle(t)},B=()=>{var t;(t=u.value)==null||t.dismiss()},E=()=>{var t;(t=d.value)==null||t.dismiss(),p.value||B()};return(t,e)=>{const s=l("MaxButton"),P=l("MaxModal"),T=l("MaxText"),R=l("BaseLayout");return i(),y(R,null,{default:o(()=>[x("div",J,[(i(!0),L(V,null,N(v.value,r=>(i(),y(s,{class:"bg-transparent full-width align-left",key:r.id,onClick:Q=>h(r.URL)},{default:o(()=>[n(H,{card:r},null,8,["card"])]),_:2},1032,["onClick"]))),128))]),v.value.length===0?(i(),y(D,{key:0})):I("",!0),n(P,{ref_key:"modalPreview",ref:u,title:k.value},{default:o(()=>[n(U,{ref_key:"parserObj",ref:_,onReady:e[0]||(e[0]=r=>A())},null,512)]),_:1},8,["title"]),n(O(c),{ref_key:"modalError",ref:d,title:"Failed Connection"},{default:o(()=>[n(T,{class:"large center"},{default:o(()=>[...e[2]||(e[2]=[m(" Connection to the server failedâŒ ",-1)])]),_:1}),n(T,{class:"description center"},{default:o(()=>[...e[3]||(e[3]=[m(" Please check your network connection and try againðŸ›œ ",-1)])]),_:1}),e[5]||(e[5]=x("br",null,null,-1)),n(s,{size:"250",disabled:f.value,onClick:e[1]||(e[1]=r=>g(C))},{default:o(()=>[...e[4]||(e[4]=[m("Retry",-1)])]),_:1},8,["disabled"])]),_:1},512)]),_:1})}}},Z=w(K,[["__scopeId","data-v-680bfcbf"]]);export{Z as default};
