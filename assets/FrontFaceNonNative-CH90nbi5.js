import{_ as N,i as u,V as R,r as v,a as I,o as y,d as s,w as o,u as p,b as a,e as l,X as z,Y as L,Z as V,$ as A,f as T,k as F,a0 as K,t as $,a1 as U,F as E}from"./index-JoMx4K1V.js";import{S as w,N as H,P as G,C as W,_ as Y}from"./CameraView-DDhdzqkW.js";const q={class:"tutorial"},O={class:"carousel__item"},X={class:"slide__inner"},Z={class:"carousel__item"},j={class:"slide__inner"},J={class:"carousel__item"},Q={class:"slide__inner"},ee={__name:"ScanTutorialFront",emits:["tutorial-complete"],setup(P,{emit:k}){const i=u(!1),f={itemsToShow:1,wrapAround:!1,height:500,gap:0},_=k;return R(i,c=>{c&&_("tutorial-complete")}),(c,e)=>{const n=v("MaxText"),x=v("MaxButton");return y(),I("div",q,[s(p(W),z(L(f)),{addons:o(()=>[s(p(H)),s(p(G))]),default:o(()=>[s(p(w),null,{default:o(()=>[a("div",O,[e[5]||(e[5]=a("div",{class:"overlay"},null,-1)),a("div",X,[s(n,{class:"large"},{default:o(()=>[...e[1]||(e[1]=[l("Get ready📸",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[2]||(e[2]=[l("Sit upright in front of the camera🧍",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[3]||(e[3]=[l("Make sure your face is fully visible (no hair covering, no strong shadows)😊",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[4]||(e[4]=[l("Choose a spot with good, soft lighting💡",-1)])]),_:1})])])]),_:1}),s(p(w),null,{default:o(()=>[a("div",Z,[e[10]||(e[10]=a("div",{class:"overlay"},null,-1)),a("div",j,[s(n,{class:"large"},{default:o(()=>[...e[6]||(e[6]=[l("Almost there📸",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[7]||(e[7]=[l("Keep your head level (no tilt) ⚖️",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[8]||(e[8]=[l("Look directly into the lens 🎯",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[9]||(e[9]=[l("Keep expression natural (relaxed, neutral, or slight smile) 🙂",-1)])]),_:1})])])]),_:1}),s(p(w),null,{default:o(()=>[a("div",J,[e[16]||(e[16]=a("div",{class:"overlay"},null,-1)),a("div",Q,[s(n,{class:"large"},{default:o(()=>[...e[11]||(e[11]=[l("You got it📸",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[12]||(e[12]=[l("Press the “Take a selfie” button 📸",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[13]||(e[13]=[l("Hold still while it captures ⏳",-1)])]),_:1}),s(n,{class:"description"},{default:o(()=>[...e[14]||(e[14]=[l("If you don’t like it — try again 🔁",-1)])]),_:1}),s(x,{class:"large",onClick:e[0]||(e[0]=C=>i.value=!0)},{default:o(()=>[...e[15]||(e[15]=[l("Got it! Let's take a selfie",-1)])]),_:1})])])]),_:1})]),_:1},16)])}}},te=N(ee,[["__scopeId","data-v-965f0934"]]),se={class:"frontFace"},oe={class:"video-container"},le={class:"video-container__sizer"},ae={class:"inner"},ne={class:"tutorial"},ie={class:"upload-button"},re={__name:"FrontFaceNonNative",emits:["picture-taken"],setup(P,{emit:k}){const i=u(!1),f=u(),_=u(null),c=u(""),e=u(null);u(!1);const n=k,x=()=>{_.value.click()},C=r=>{const t=r.target.files[0];if(t){c.value=t.name;const d=new FileReader;d.onload=b=>{e.value=b.target.result,f.value.open(),console.log("Uploaded file:",c.value)},d.readAsDataURL(t)}},S=()=>{const r=document.querySelector(".frontFace video");if(r)try{const t=document.createElement("canvas");t.width=r.videoWidth||r.clientWidth||500,t.height=r.videoHeight||r.clientHeight||500;const d=t.getContext("2d");if(!d)return;d.drawImage(r,0,0,t.width,t.height),e.value=t.toDataURL("image/png"),f.value.open(),console.log("📸 Снимок сделан!")}catch(t){console.error("Snapshot error",t)}},D=()=>{n("picture-taken",e.value),f.value.dismissDirect()},B=()=>{f.value.dismiss()},m=u(!1);return(r,t)=>{const d=v("MaxText"),b=v("ion-icon"),g=v("MaxButton"),h=v("MaxImage");return y(),I(E,null,[a("div",se,[s(d,null,{default:o(()=>[...t[3]||(t[3]=[l("Take a front selfie",-1)])]),_:1}),a("div",oe,[a("div",le,[V(a("div",ae,[i.value?(y(),T(Y,{key:0,ref_key:"cameraProp",ref:m},null,512)):F("",!0)],512),[[A,i.value]]),a("div",ne,[i.value?F("",!0):(y(),T(te,{key:0,onTutorialComplete:t[0]||(t[0]=M=>i.value=!0)}))])])]),t[5]||(t[5]=a("br",null,null,-1)),s(d,{class:"description"},{default:o(()=>[s(b,{"aria-hidden":"true",icon:p(K),class:"blub"},null,8,["icon"]),t[4]||(t[4]=l(" Make sure your face is well lit ",-1))]),_:1}),a("label",ie,[s(g,{class:"large",disabled:!i.value,onClick:x,size:400},{default:o(()=>[l($(i.value?"Upload from library":"Loading..."),1)]),_:1},8,["disabled"]),a("input",{type:"file",ref_key:"fileInput",ref:_,accept:"image/*",onChange:C,style:{display:"none"}},null,544)]),s(g,{class:"large",disabled:!i.value||m.value.permissionDenied||!m.value.cameraReady,onClick:S,size:400},{default:o(()=>[l($(i.value&&!m.value.permissionDenied&&m.value.cameraReady?"Take a selfie":"Loading..."),1)]),_:1},8,["disabled"])]),s(U,{ref_key:"modalPreview",ref:f,title:"Are you happy with the photo?"},{default:o(()=>[s(h,{img:e.value,borderRadius:25},null,8,["img"]),t[8]||(t[8]=a("br",null,null,-1)),s(g,{onClick:t[1]||(t[1]=M=>D()),size:400},{default:o(()=>[...t[6]||(t[6]=[l("Keep",-1)])]),_:1}),s(g,{onClick:t[2]||(t[2]=M=>B()),size:400},{default:o(()=>[...t[7]||(t[7]=[l("Try again",-1)])]),_:1})]),_:1},512)],64)}}},fe=N(re,[["__scopeId","data-v-1efbc13c"]]);export{fe as default};
