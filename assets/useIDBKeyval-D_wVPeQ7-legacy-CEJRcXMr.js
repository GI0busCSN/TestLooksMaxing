System.register(["./index-legacy-DyznbM8O.js"],function(e,t){"use strict";var n,r,i,o,a,u,s,c,l,f;return{setters:[e=>{n=e.a1,r=e.j,i=e.a2,o=e.i,a=e.a3,u=e.a4,s=e.a5,c=e.s,l=e.a6,f=e.a0}],execute:function(){e({t:function(e,t){return!!u()&&(s(e,t),!0)},u:function(e,r,u={}){const{flush:s="pre",deep:h=!0,shallow:w=!1,onError:g=e=>{console.error(e)},writeDefaults:m=!0,serializer:S={read:e=>e,write:e=>e}}=u,b=c(!1),F=(w?c:o)(r),j=l(r);async function k(){try{if(null==F.value)await function(e,t=y()){return t("readwrite",t=>(t.delete(e),p(t.transaction)))}(e);else{const t=f(F.value),n=S.write(t);await function(e,t,n=y()){return n("readwrite",n=>new Promise((r,i)=>{n.get(e).onsuccess=function(){try{n.put(t(this.result),e),r(p(n.transaction))}catch(o){i(o)}}}))}(e,()=>n)}}catch(t){g(t)}}!async function(){try{const t=await function(e,t=y()){return t("readonly",t=>p(t.get(e)))}(e);void 0===t?null!=j&&m&&await function(e,t,n=y()){return n("readwrite",n=>(n.put(t,e),p(n.transaction)))}(e,S.write(j)):F.value=S.read(t)}catch(t){g(t)}b.value=!0}();const{pause:A,resume:P}=function(e,r,u={}){const{eventFilter:s,initialState:c="active",...l}=u,{eventFilter:f,pause:p,resume:h,isActive:w}=function(e=v,r={}){const{initialState:u="active"}=r,s=function(...e){if(1!==e.length)return i(...e);const r=e[0];return"function"==typeof r?n(a(()=>({get:r,set:t}))):o(r)}("active"===u);function c(){s.value=!1}function l(){s.value=!0}const f=(...t)=>{s.value&&e(...t)};return{isActive:n(s),pause:c,resume:l,eventFilter:f}}(s,{initialState:c});return{stop:d(e,r,{...l,eventFilter:f}),pause:p,resume:h,isActive:w}}(F,()=>k(),{flush:s,deep:h});return{set:async function(e){A(),F.value=e,await k(),P()},isFinished:b,data:F}}}),"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const t=()=>{},v=e=>e();function d(e,t,n={}){const{eventFilter:i=v,...o}=n;return r(e,(a=i,u=t,function(...e){return new Promise((t,n)=>{Promise.resolve(a(()=>u.apply(this,e),{fn:u,thisArg:this,args:e})).then(t).catch(n)})}),o);var a,u}function p(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function h(e,t){let n;return(r,i)=>(()=>{if(n)return n;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=p(r),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n})().then(e=>i(e.transaction(t,r).objectStore(t)))}let w;function y(){return w||(w=h("keyval-store","keyval")),w}}}});
