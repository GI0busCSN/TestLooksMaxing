const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CYHeDW7z.js","assets/index-D6G6WiCR.css"])))=>i.map(i=>d[i]);
import{_ as b,r as l,a as L,o as i,d as x,f as n,w as s,g as m,t as $,n as j,i as a,m as F,b as y,e as I,k as N,F as V,u as O,p as S,q}from"./index-CYHeDW7z.js";import z from"./LoadingScreen-BXxAtVLT.js";import D from"./ArticleParser-Dj1tkHhr.js";const U={class:"card"},G={__name:"trainigsCard",props:["card"],setup(M){const c=M;return(u,d)=>{const _=l("MaxText");return i(),L("div",U,[x("div",{class:"card__inner",style:j("background-image: url('".concat(c.card.images.src,"')"))},[n(_,null,{default:s(()=>[m($(c.card.title),1)]),_:1})],4)])}}},H=b(G,[["__scopeId","data-v-15f9ef47"]]),J={class:"cards"},w="https://raw.githubusercontent.com/GI0busCSN/LooksMax-Articles/main/AllArticles.json",K={__name:"Trainings",setup(M){const c=S(()=>q(()=>import("./index-CYHeDW7z.js").then(t=>t.ap),__vite__mapDeps([0,1]))),u=a(),d=a(),_=a(null),v=a([]),f=a(!1),p=a(!0),k=a("");async function g(t){console.log("Fetching trainings...");try{f.value=!0;const o=await(await fetch(t)).json();return f.value=!1,P(),console.log("Trainings fetched:",o),p.value=!0,o}catch(e){return p.value=!1,f.value=!1,setTimeout(()=>{d.value.open()},300),console.error("Failed to fetch trainings:",e),[]}}F(async()=>{v.value=await g(w)});let T=a("");const A=async t=>{var e;p.value&&(T=t,(e=u.value)==null||e.open())},B=async()=>{const t=await g(T);k.value=await t[0].info.title||"",_.value.parseArticle(t)},E=()=>{var t;(t=u.value)==null||t.dismiss()},P=()=>{var t;(t=d.value)==null||t.dismiss(),p.value||E()};return(t,e)=>{const o=l("MaxButton"),R=l("MaxModal"),C=l("MaxText"),h=l("BaseLayout");return i(),y(h,null,{default:s(()=>[x("div",J,[(i(!0),L(V,null,N(v.value,r=>(i(),y(o,{class:"bg-transparent full-width align-left",key:r.id,onClick:Q=>A(r.URL)},{default:s(()=>[n(H,{card:r},null,8,["card"])]),_:2},1032,["onClick"]))),128))]),v.value.length===0?(i(),y(z,{key:0})):I("",!0),n(R,{ref_key:"modalPreview",ref:u,title:k.value},{default:s(()=>[n(D,{ref_key:"parserObj",ref:_,onReady:e[0]||(e[0]=r=>B())},null,512)]),_:1},8,["title"]),n(O(c),{ref_key:"modalError",ref:d,title:"Failed Connection"},{default:s(()=>[n(C,{class:"large center"},{default:s(()=>[...e[2]||(e[2]=[m(" Connection to the server failedâŒ ",-1)])]),_:1}),n(C,{class:"description center"},{default:s(()=>[...e[3]||(e[3]=[m(" Please check your network connection and try againðŸ›œ ",-1)])]),_:1}),e[5]||(e[5]=x("br",null,null,-1)),n(o,{size:"250",disabled:f.value,onClick:e[1]||(e[1]=r=>g(w))},{default:s(()=>[...e[4]||(e[4]=[m("Retry",-1)])]),_:1},8,["disabled"])]),_:1},512)]),_:1})}}},Z=b(K,[["__scopeId","data-v-d0f42f32"]]);export{Z as default};
