System.register(["./index-legacy-CzBWrRvQ.js","./CameraView-legacy-CoD6-sMd.js"],function(e,a){"use strict";var t,l,i,o,n,s,r,d,c,u,v,f,p,_,g,h,m,y,x,b,k,w,C,z,T,F;return{setters:[e=>{t=e._,l=e.i,i=e.X,o=e.r,n=e.a,s=e.o,r=e.d,d=e.w,c=e.u,u=e.b,v=e.e,f=e.Y,p=e.Z,_=e.$,g=e.a0,h=e.f,m=e.k,y=e.a1,x=e.t,b=e.a2,k=e.F},e=>{w=e.S,C=e.N,z=e.P,T=e.C,F=e._}],execute:function(){var a=document.createElement("style");a.textContent=".tutorial[data-v-965f0934]{width:100%;height:100%}.carousel__item .overlay[data-v-965f0934]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(90,90,90,.9);z-index:10}.carousel__item .slide__inner[data-v-965f0934]{position:relative;width:100%;z-index:20}.video-container[data-v-6a88928e]{display:flex;justify-content:center;align-items:center;width:100%}.video-container__sizer[data-v-6a88928e]{width:500px;height:500px;max-width:90vw;max-height:90vw;border-radius:16px;overflow:hidden;background-color:#000;position:relative}.video-container__sizer video[data-v-6a88928e]{z-index:1;width:100%;height:100%;object-fit:cover}.video-container__sizer .underlayer[data-v-6a88928e]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:rgba(0,0,0,.55);color:#fff;text-align:center;padding:20px;gap:10px;transition:opacity .3s ease}.frontFace[data-v-6a88928e]{text-align:center}.blub[data-v-6a88928e]{color:#ff0}.description.error[data-v-6a88928e]{color:red;font-weight:700}.upload-button[data-v-6a88928e]{display:inline-block;position:relative;margin-top:10px}\n",document.head.appendChild(a);const M={class:"tutorial"},S={class:"carousel__item"},j={class:"slide__inner"},I={class:"carousel__item"},L={class:"slide__inner"},R={class:"carousel__item"},D={class:"slide__inner"},A=t({__name:"ScanTutorialFront",emits:["tutorial-complete"],setup(e,{emit:a}){const t=l(!1),_={itemsToShow:1,wrapAround:!1,height:500,gap:0},g=a;return i(t,e=>{e&&g("tutorial-complete")}),(e,a)=>{const l=o("MaxText"),i=o("MaxButton");return s(),n("div",M,[r(c(T),f(p(_)),{addons:d(()=>[r(c(C)),r(c(z))]),default:d(()=>[r(c(w),null,{default:d(()=>[u("div",S,[a[5]||(a[5]=u("div",{class:"overlay"},null,-1)),u("div",j,[r(l,{class:"large"},{default:d(()=>[...a[1]||(a[1]=[v("Get readyðŸ“¸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[2]||(a[2]=[v("Sit upright in front of the cameraðŸ§",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[3]||(a[3]=[v("Make sure your face is fully visible (no hair covering, no strong shadows)ðŸ˜Š",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[4]||(a[4]=[v("Choose a spot with good, soft lightingðŸ’¡",-1)])]),_:1})])])]),_:1}),r(c(w),null,{default:d(()=>[u("div",I,[a[10]||(a[10]=u("div",{class:"overlay"},null,-1)),u("div",L,[r(l,{class:"large"},{default:d(()=>[...a[6]||(a[6]=[v("Almost thereðŸ“¸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[7]||(a[7]=[v("Keep your head level (no tilt) âš–ï¸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[8]||(a[8]=[v("Look directly into the lens ðŸŽ¯",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[9]||(a[9]=[v("Keep expression natural (relaxed, neutral, or slight smile) ðŸ™‚",-1)])]),_:1})])])]),_:1}),r(c(w),null,{default:d(()=>[u("div",R,[a[16]||(a[16]=u("div",{class:"overlay"},null,-1)),u("div",D,[r(l,{class:"large"},{default:d(()=>[...a[11]||(a[11]=[v("You got itðŸ“¸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[12]||(a[12]=[v("Press the â€œTake a selfieâ€ button ðŸ“¸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[13]||(a[13]=[v("Hold still while it captures â³",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[14]||(a[14]=[v("If you donâ€™t like it â€” try again ðŸ”",-1)])]),_:1}),r(i,{class:"large",onClick:a[0]||(a[0]=e=>t.value=!0)},{default:d(()=>[...a[15]||(a[15]=[v("Got it! Let's take a selfie",-1)])]),_:1})])])]),_:1})]),_:1},16)])}}},[["__scopeId","data-v-965f0934"]]),P={class:"frontFace"},U={class:"video-container"},H={class:"video-container__sizer"},K={class:"inner"},N={class:"tutorial"},B={class:"upload-button"};e("default",t({__name:"FrontFaceNonNative",emits:["picture-taken"],setup(e,{emit:a}){const t=l(!1),i=l(),f=l(null),p=l(""),w=l(null);l(!1);const C=a,z=()=>{f.value.click()},T=e=>{const a=e.target.files[0];if(a){p.value=a.name;const e=new FileReader;e.onload=e=>{w.value=e.target.result,i.value.open(),console.log("Uploaded file:",p.value)},e.readAsDataURL(a)}},M=()=>{const e=document.querySelector(".frontFace video");if(e)try{const a=document.createElement("canvas");a.width=e.videoWidth||e.clientWidth||500,a.height=e.videoHeight||e.clientHeight||500;const t=a.getContext("2d");if(!t)return;t.drawImage(e,0,0,a.width,a.height),w.value=a.toDataURL("image/png"),i.value.open(),console.log("ðŸ“¸ Ð¡Ð½Ð¸Ð¼Ð¾Ðº ÑÐ´ÐµÐ»Ð°Ð½!")}catch(a){console.error("Snapshot error",a)}},S=l(!1);return(e,a)=>{const l=o("MaxText"),p=o("ion-icon"),j=o("MaxButton"),I=o("MaxImage");return s(),n(k,null,[u("div",P,[r(l,null,{default:d(()=>[...a[3]||(a[3]=[v("Take a front selfie",-1)])]),_:1}),u("div",U,[u("div",H,[_(u("div",K,[t.value?(s(),h(F,{key:0,ref_key:"cameraProp",ref:S},null,512)):m("",!0)],512),[[g,t.value]]),u("div",N,[t.value?m("",!0):(s(),h(A,{key:0,onTutorialComplete:a[0]||(a[0]=e=>t.value=!0)}))])])]),a[5]||(a[5]=u("br",null,null,-1)),r(l,{class:"description"},{default:d(()=>[r(p,{"aria-hidden":"true",icon:c(y),class:"blub"},null,8,["icon"]),a[4]||(a[4]=v(" Make sure your face is well lit ",-1))]),_:1}),u("label",B,[r(j,{class:"large",disabled:!t.value,onClick:z,size:400},{default:d(()=>[v(x(t.value?"Upload from library":"Loading..."),1)]),_:1},8,["disabled"]),u("input",{type:"file",ref_key:"fileInput",ref:f,accept:"image/jpeg, image/png",onChange:T,style:{display:"none"}},null,544)]),r(j,{class:"large",disabled:!t.value||S.value.permissionDenied||!S.value.cameraReady,onClick:M,size:400},{default:d(()=>[v(x(t.value&&!S.value.permissionDenied&&S.value.cameraReady?"Take a selfie":"Loading..."),1)]),_:1},8,["disabled"])]),r(b,{ref_key:"modalPreview",ref:i,title:"Are you happy with the photo?"},{default:d(()=>[r(I,{img:w.value,borderRadius:25},null,8,["img"]),a[8]||(a[8]=u("br",null,null,-1)),r(j,{onClick:a[1]||(a[1]=e=>(C("picture-taken",w.value),void i.value.dismissDirect())),size:400},{default:d(()=>[...a[6]||(a[6]=[v("Keep",-1)])]),_:1}),r(j,{onClick:a[2]||(a[2]=e=>{i.value.dismiss()}),size:400},{default:d(()=>[...a[7]||(a[7]=[v("Try again",-1)])]),_:1})]),_:1},512)],64)}}},[["__scopeId","data-v-6a88928e"]]))}}});
