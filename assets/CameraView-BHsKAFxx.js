import{p as it,a2 as Zr,a3 as yt,i as ue,c as z,a4 as Qr,a5 as Jr,j as vn,a6 as qr,a7 as he,a8 as cn,V as Pt,a9 as sn,aa as er,ab as Ht,ac as ei,ad as ti,ae as tr,af as rt,ag as ni,a as tt,o as nt,k as Yn,F as Xn,b as kt}from"./index-BauPQc4p.js";/**
 * Vue 3 Carousel 0.16.0
 * (c) 2025
 * @license MIT
 */const nr=["viewport","carousel"],Gt={"bottom-to-top":"btt","left-to-right":"ltr","right-to-left":"rtl","top-to-bottom":"ttb"},rr=["ltr","left-to-right","rtl","right-to-left","ttb","top-to-bottom","btt","bottom-to-top"],ri={ariaGallery:"Gallery",ariaNavigateToPage:"Navigate to page {slideNumber}",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",iconArrowDown:"Arrow pointing downwards",iconArrowLeft:"Arrow pointing to the left",iconArrowRight:"Arrow pointing to the right",iconArrowUp:"Arrow pointing upwards",itemXofY:"Item {currentSlide} of {slidesCount}"},ir=["slide","fade"],or=["center","start","end","center-even","center-odd"],Kn=10,Ut=.08,ee={autoplay:0,breakpointMode:nr[0],breakpoints:void 0,dir:rr[0],enabled:!0,gap:0,height:"auto",i18n:ri,ignoreAnimations:!1,itemsToScroll:1,itemsToShow:1,modelValue:0,mouseDrag:!0,mouseWheel:!1,pauseAutoplayOnHover:!1,preventExcessiveDragging:!1,slideEffect:ir[0],snapAlign:or[0],touchDrag:!0,transition:300,wrapAround:!1},Ye=Symbol("carousel"),ii=a=>{const h=cn([]),d=p=>{p!==void 0?h.slice(p).forEach((g,S)=>{var j;(j=g.exposed)===null||j===void 0||j.setIndex(p+S)}):h.forEach((g,S)=>{var j;(j=g.exposed)===null||j===void 0||j.setIndex(S)})};return{cleanup:()=>{h.splice(0,h.length)},getSlides:()=>h,registerSlide:(p,g)=>{if(!p||p.props.isClone)return;const S=g!=null?g:h.length;h.splice(S,0,p),d(S),a("slide-registered",{slide:p,index:S})},unregisterSlide:p=>{const g=h.indexOf(p);g!==-1&&(a("slide-unregistered",{slide:p,index:g}),h.splice(g,1),d(g))}}};function oi(a){return a.length===0?0:a.reduce((d,p)=>d+p,0)/a.length}function $n({slides:a,position:h,toShow:d}){const p=[],g=h==="before",S=g?-d:0,j=g?0:d;if(a.length<=0)return p;for(let E=S;E<j;E++){const I={index:g?E:E+a.length,isClone:!0,id:void 0,key:"clone-".concat(h,"-").concat(E)},_=a[(E%a.length+a.length)%a.length].vnode,N=ti(_,I);N.el=null,p.push(N)}return p}const ui='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function Zn(a){if(!a.el||!(a.el instanceof Element))return;const h=a.el.querySelectorAll(ui);for(const d of h)d instanceof HTMLElement&&!d.hasAttribute("disabled")&&d.getAttribute("aria-hidden")!=="true"&&d.setAttribute("tabindex","-1")}function li(a,h){return Object.keys(a).filter(d=>!h.includes(d)).reduce((d,p)=>(d[p]=a[p],d),{})}function ai(a){const{isVertical:h,isReversed:d,dragged:p,effectiveSlideSize:g,threshold:S}=a,j=h?p.y:p.x;if(j===0)return 0;const E=j/g,P=Math.abs(E);if(P<S)return 0;const I=P<1?Math.sign(E):Math.round(E);return d?I:-I}function ke({val:a,max:h,min:d}){return h<d?a:Math.min(Math.max(a,isNaN(d)?a:d),isNaN(h)?a:h)}function si(a){const{transform:h}=window.getComputedStyle(a);return h.split(/[(,)]/).slice(1,-1).map(d=>parseFloat(d))}function ci(a){let h=1,d=1;return a.forEach(p=>{const g=si(p);g.length===6&&(h/=g[0],d/=g[3])}),{widthMultiplier:h,heightMultiplier:d}}function fi(a,h){switch(a){case"start":return 0;case"center":case"center-odd":return(h-1)/2;case"center-even":return(h-2)/2;case"end":return h-1;default:return 0}}function hi(a,h,d){switch(a){case"start":return 0;case"center":case"center-odd":return(d-h)/2;case"center-even":return d/2-h;case"end":return d-h;default:return 0}}function fn({slideSize:a,viewportSize:h,align:d,itemsToShow:p}){return p!==void 0?fi(d,p):a!==void 0&&h!==void 0?hi(d,a,h):0}function ur(a="",h={}){return Object.entries(h).reduce((d,[p,g])=>d.replace("{".concat(p,"}"),String(g)),a)}function lr({val:a,max:h,min:d=0}){const p=h-d+1;return((a-d)%p+p)%p+d}function hn(a,h=0){let d=!1,p=0,g=null;function S(...j){if(d)return;d=!0;const E=()=>{g=requestAnimationFrame(P=>{P-p>h?(p=P,a(...j),d=!1):E()})};E()}return S.cancel=()=>{g&&(cancelAnimationFrame(g),g=null,d=!1)},S}function Bt(a,h="px"){if(!(a==null||a===""))return typeof a=="number"||parseFloat(a).toString()===a?"".concat(a).concat(h):a}const di=it({name:"CarouselAria",setup(){const a=yt(Ye);return a?()=>he("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},ur(a.config.i18n.itemXofY,{currentSlide:a.currentSlide+1,slidesCount:a.slidesCount})):()=>""}});function vi(a){let h=!1;const d={x:0,y:0},p=Ht({x:0,y:0}),g=ue(!1),{isSliding:S}=a,j=z(()=>typeof S=="boolean"?S:S.value),E=_=>{var N;const m=_.target.tagName;if(["INPUT","TEXTAREA","SELECT"].includes(m)||j.value||(h=_.type==="touchstart",h&&_.touches.length>1))return;if(!h&&(_.preventDefault(),_.button!==0))return;d.x=h?_.touches[0].clientX:_.clientX,d.y=h?_.touches[0].clientY:_.clientY;const D=h?"touchmove":"mousemove",H=h?"touchend":"mouseup";document.addEventListener(D,P,{passive:!1}),document.addEventListener(H,I,{passive:!0}),(N=a.onDragStart)===null||N===void 0||N.call(a)},P=hn(_=>{var N;if(h&&_.touches.length>1)return;g.value=!0;const m=h?_.touches[0].clientX:_.clientX,D=h?_.touches[0].clientY:_.clientY;p.x=m-d.x,p.y=D-d.y,(N=a.onDrag)===null||N===void 0||N.call(a,{deltaX:p.x,deltaY:p.y,isTouch:h})}),I=()=>{var _;P.cancel();const N=Math.abs(p.x)+Math.abs(p.y);!h&&N>10&&window.addEventListener("click",H=>{H.preventDefault(),H.stopPropagation()},{once:!0,capture:!0}),(_=a.onDragEnd)===null||_===void 0||_.call(a),p.x=0,p.y=0,g.value=!1;const m=h?"touchmove":"mousemove",D=h?"touchend":"mouseup";document.removeEventListener(m,P),document.removeEventListener(D,I)};return{dragged:p,isDragging:g,handleDragStart:E}}function pi(){const a=ue(!1);return{isHover:a,handleMouseEnter:()=>{a.value=!0},handleMouseLeave:()=>{a.value=!1}}}function gi(a){const{isVertical:h,isSliding:d,config:p}=a,g=z(()=>typeof h=="boolean"?h:h.value),S=z(()=>typeof d=="boolean"?d:d.value);return{handleScroll:E=>{var P,I;if(E.preventDefault(),!p.mouseWheel||S.value)return;const _=typeof p.mouseWheel=="object"&&(P=p.mouseWheel.threshold)!==null&&P!==void 0?P:Kn,N=Math.abs(E.deltaY)>_?E.deltaY:0,m=Math.abs(E.deltaX)>_?E.deltaX:0;if(N===0&&m===0)return;const D=g.value?N:m,re=(D!==0?D:g.value?m:N)>0;(I=a.onWheel)===null||I===void 0||I.call(a,{deltaX:m,deltaY:N,isScrollingForward:re})}}}const mi={autoplay:{default:ee.autoplay,type:Number},breakpoints:{default:ee.breakpoints,type:Object},breakpointMode:{default:ee.breakpointMode,validator(a){return nr.includes(a)}},clamp:{type:Boolean},dir:{type:String,default:ee.dir,validator(a,h){if(!rr.includes(a))return!1;const d=a in Gt?Gt[a]:a;return["ttb","btt"].includes(d)&&(!h.height||h.height==="auto")&&console.warn('[vue3-carousel]: The dir "'.concat(a,'" is not supported with height "auto".')),!0}},enabled:{default:ee.enabled,type:Boolean},gap:{default:ee.gap,type:Number},height:{default:ee.height,type:[Number,String]},i18n:{default:ee.i18n,type:Object},ignoreAnimations:{default:!1,type:[Array,Boolean,String]},itemsToScroll:{default:ee.itemsToScroll,type:Number},itemsToShow:{default:ee.itemsToShow,type:[Number,String]},modelValue:{default:void 0,type:Number},mouseDrag:{default:ee.mouseDrag,type:[Boolean,Object]},mouseWheel:{default:ee.mouseWheel,type:[Boolean,Object]},mouseScrollThreshold:{default:ee.mouseScrollThreshold,type:Number},pauseAutoplayOnHover:{default:ee.pauseAutoplayOnHover,type:Boolean},preventExcessiveDragging:{default:!1,type:Boolean,validator(a,h){return a&&h.wrapAround&&console.warn('[vue3-carousel]: "preventExcessiveDragging" cannot be used with wrapAround. The setting will be ignored.'),!0}},slideEffect:{type:String,default:ee.slideEffect,validator(a){return ir.includes(a)}},snapAlign:{default:ee.snapAlign,validator(a){return or.includes(a)}},touchDrag:{default:ee.touchDrag,type:[Boolean,Object]},transition:{default:ee.transition,type:Number},wrapAround:{default:ee.wrapAround,type:Boolean}},xi=it({name:"VueCarousel",props:mi,emits:["before-init","drag","init","loop","slide-end","slide-registered","slide-start","slide-unregistered","update:modelValue","wheel"],setup(a,{slots:h,emit:d,expose:p}){var g;const S=ii(d),j=S.getSlides(),E=z(()=>j.length),P=ue(null),I=ue(null),_=ue(0),N=z(()=>Object.assign(Object.assign(Object.assign({},ee),li(a,["breakpoints","modelValue"])),{i18n:Object.assign(Object.assign({},ee.i18n),a.i18n)})),m=cn(Object.assign({},N.value)),D=ue((g=a.modelValue)!==null&&g!==void 0?g:0),H=ue(D.value);Pt(D,b=>H.value=b);const re=ue(0),Ie=z(()=>Math.ceil((E.value-1)/2)),be=z(()=>E.value-1),Ee=z(()=>0);let de=null,K=null,Ne=null;const Ue=z(()=>_.value+m.gap),ve=z(()=>{const b=m.dir||"ltr";return b in Gt?Gt[b]:b}),Z=z(()=>["rtl","btt"].includes(ve.value)),ie=z(()=>["ttb","btt"].includes(ve.value)),s=z(()=>m.itemsToShow==="auto"),f=z(()=>ie.value?"height":"width");function F(){var b;if(!Ae.value)return;const T=(N.value.breakpointMode==="carousel"?(b=P.value)===null||b===void 0?void 0:b.getBoundingClientRect().width:typeof window<"u"?window.innerWidth:0)||0,M=Object.keys(a.breakpoints||{}).map(B=>Number(B)).sort((B,q)=>+q-+B),Y={};M.some(B=>T>=B?(Object.assign(Y,a.breakpoints[B]),Y.i18n&&Object.assign(Y.i18n,N.value.i18n,a.breakpoints[B].i18n),!0):!1),Object.assign(m,N.value,Y),s.value||(m.itemsToShow=ke({val:Number(m.itemsToShow),max:a.clamp?E.value:1/0,min:1}))}const O=hn(()=>{F(),le(),W()}),V=cn(new Set),U=ue([]);function y({widthMultiplier:b,heightMultiplier:T}){U.value=j.map(M=>{var Y;const B=(Y=M.exposed)===null||Y===void 0?void 0:Y.getBoundingRect();return{width:B.width*b,height:B.height*T}})}const R=ue({width:0,height:0});function G({widthMultiplier:b,heightMultiplier:T}){var M;const Y=((M=I.value)===null||M===void 0?void 0:M.getBoundingClientRect())||{width:0,height:0};R.value={width:Y.width*b,height:Y.height*T}}function W(){if(!I.value)return;const b=ci(V);if(G(b),y(b),s.value)_.value=oi(U.value.map(T=>T[f.value]));else{const T=Number(m.itemsToShow),M=(T-1)*m.gap;_.value=(R.value[f.value]-M)/T}}function le(){!m.wrapAround&&E.value>0&&(D.value=ke({val:D.value,max:be.value,min:Ee.value}))}const Le=z(()=>typeof a.ignoreAnimations=="string"?a.ignoreAnimations.split(","):Array.isArray(a.ignoreAnimations)?a.ignoreAnimations:a.ignoreAnimations?!1:[]);sn(()=>le()),sn(()=>{W()});let oe;const pe=b=>{const T=b.target;if(!(!(T!=null&&T.contains(P.value))||Array.isArray(Le.value)&&Le.value.includes(b.animationName))&&(V.add(T),!oe)){const M=()=>{oe=requestAnimationFrame(()=>{W(),M()})};M()}},Ce=b=>{const T=b.target;T&&V.delete(T),oe&&V.size===0&&(cancelAnimationFrame(oe),W())},Ae=ue(!1);typeof document<"u"&&sn(()=>{Ae.value&&Le.value!==!1?(document.addEventListener("animationstart",pe),document.addEventListener("animationend",Ce)):(document.removeEventListener("animationstart",pe),document.removeEventListener("animationend",Ce))}),vn(()=>{Ae.value=!0,F(),bt(),P.value&&(Ne=new ResizeObserver(O),Ne.observe(P.value)),d("init")}),er(()=>{Ae.value=!1,S.cleanup(),K&&clearTimeout(K),oe&&cancelAnimationFrame(oe),de&&clearInterval(de),Ne&&(Ne.disconnect(),Ne=null),typeof document<"u"&&Xe(),P.value&&(P.value.removeEventListener("transitionend",W),P.value.removeEventListener("animationiteration",W))});const{isHover:ot,handleMouseEnter:Vt,handleMouseLeave:wt}=pi(),ut=hn(b=>{if(!b.ctrlKey)switch(b.key){case"ArrowLeft":case"ArrowUp":ie.value===b.key.endsWith("Up")&&(Z.value?xe(!0):ge(!0));break;case"ArrowRight":case"ArrowDown":ie.value===b.key.endsWith("Down")&&(Z.value?ge(!0):xe(!0));break}},200),Xe=()=>{document.removeEventListener("keydown",ut)},He=()=>{document.addEventListener("keydown",ut)};function bt(){!m.autoplay||m.autoplay<=0||(de=setInterval(()=>{m.pauseAutoplayOnHover&&ot.value||xe()},m.autoplay))}function J(){ae(),bt()}function ae(){de&&(clearInterval(de),de=null)}const Se=ue(!1),Wt=({deltaX:b,deltaY:T,isTouch:M})=>{var Y,B,q,se;d("drag",{deltaX:b,deltaY:T});const te=M?typeof m.touchDrag=="object"&&(B=(Y=m.touchDrag)===null||Y===void 0?void 0:Y.threshold)!==null&&B!==void 0?B:Ut:typeof m.mouseDrag=="object"&&(se=(q=m.mouseDrag)===null||q===void 0?void 0:q.threshold)!==null&&se!==void 0?se:Ut,Me=ai({isVertical:ie.value,isReversed:Z.value,dragged:{x:b,y:T},effectiveSlideSize:Ue.value,threshold:te});Me!==0&&(H.value=m.wrapAround?D.value+Me:ke({val:D.value+Me,max:be.value,min:Ee.value}))},Et=()=>De(H.value),{dragged:lt,isDragging:At,handleDragStart:at}=vi({isSliding:Se,onDrag:Wt,onDragEnd:Et}),St=({deltaX:b,deltaY:T,isScrollingForward:M})=>{d("wheel",{deltaX:b,deltaY:T}),M?Z.value?ge():xe():Z.value?xe():ge()},{handleScroll:st}=gi({isVertical:ie,isSliding:Se,config:m,onWheel:St});function xe(b=!1){De(D.value+m.itemsToScroll,b)}function ge(b=!1){De(D.value-m.itemsToScroll,b)}function De(b,T=!1){if(!T&&Se.value)return;const M=(m.wrapAround?lr:ke)({val:b,max:be.value,min:Ee.value});if(D.value===M)return;re.value=D.value,d("slide-start",{slidingToIndex:b,currentSlideIndex:D.value,prevSlideIndex:re.value,slidesCount:E.value}),ae(),Se.value=!0,D.value=b,M!==b&&$e.pause(),d("update:modelValue",M),K=setTimeout(()=>{m.wrapAround&&M!==b&&($e.resume(),D.value=M,d("loop",{currentSlideIndex:D.value,slidingToIndex:b})),d("slide-end",{currentSlideIndex:D.value,prevSlideIndex:re.value,slidesCount:E.value}),Se.value=!1,J()},m.transition)}function Ke(){F(),le(),W(),J()}Pt(()=>[N.value,a.breakpoints],()=>F(),{deep:!0}),Pt(()=>a.autoplay,()=>J());const $e=Pt(()=>a.modelValue,b=>{b!==D.value&&De(Number(b),!0)});d("before-init");const Ge=z(()=>{if(!m.wrapAround)return{before:0,after:0};if(s.value)return{before:j.length,after:j.length};const b=Number(m.itemsToShow),T=Math.ceil(b+(m.itemsToScroll-1)),M=T-H.value,Y=T-(E.value-(H.value+1));return{before:Math.max(0,M),after:Math.max(0,Y)}}),Ze=z(()=>Ge.value.before?s.value?U.value.slice(-1*Ge.value.before).reduce((b,T)=>b+T[f.value]+m.gap,0)*-1:Ge.value.before*Ue.value*-1:0),ct=z(()=>{var b;if(s.value){const T=(D.value%j.length+j.length)%j.length;return fn({slideSize:(b=U.value[T])===null||b===void 0?void 0:b[f.value],viewportSize:R.value[f.value],align:m.snapAlign})}return fn({align:m.snapAlign,itemsToShow:+m.itemsToShow})}),Ve=z(()=>{let b=0;if(s.value){if(D.value<0?b=U.value.slice(D.value).reduce((T,M)=>T+M[f.value]+m.gap,0)*-1:b=U.value.slice(0,D.value).reduce((T,M)=>T+M[f.value]+m.gap,0),b-=ct.value,!m.wrapAround){const T=U.value.reduce((M,Y)=>M+Y[f.value]+m.gap,0)-R.value[f.value]-m.gap;b=ke({val:b,max:T,min:0})}}else{let T=D.value-ct.value;m.wrapAround||(T=ke({val:T,max:E.value-+m.itemsToShow,min:0})),b=T*Ue.value}return b*(Z.value?1:-1)}),_t=z(()=>{var b,T;if(!s.value){const B=D.value-ct.value;return m.wrapAround?{min:Math.floor(B),max:Math.ceil(B+Number(m.itemsToShow)-1)}:{min:Math.floor(ke({val:B,max:E.value-Number(m.itemsToShow),min:0})),max:Math.ceil(ke({val:B+Number(m.itemsToShow)-1,max:E.value-1,min:0}))}}let M=0;{let B=0,q=0-Ge.value.before;const se=Math.abs(Ve.value+Ze.value);for(;B<=se;){const te=(q%j.length+j.length)%j.length;B+=((b=U.value[te])===null||b===void 0?void 0:b[f.value])+m.gap,q++}M=q-1}let Y=0;{let B=M,q=0;for(B<0?q=U.value.slice(0,B).reduce((se,te)=>se+te[f.value]+m.gap,0)-Math.abs(Ve.value+Ze.value):q=U.value.slice(0,B).reduce((se,te)=>se+te[f.value]+m.gap,0)-Math.abs(Ve.value);q<R.value[f.value];){const se=(B%j.length+j.length)%j.length;q+=((T=U.value[se])===null||T===void 0?void 0:T[f.value])+m.gap,B++}Y=B-1}return{min:Math.floor(M),max:Math.ceil(Y)}}),We=z(()=>{if(m.slideEffect==="fade")return;const b=ie.value?"Y":"X",T=ie.value?lt.y:lt.x;let M=Ve.value+T;if(!m.wrapAround&&m.preventExcessiveDragging){let Y=0;s.value?Y=U.value.reduce((se,te)=>se+te[f.value],0):Y=(E.value-Number(m.itemsToShow))*Ue.value;const B=Z.value?0:-1*Y,q=Z.value?Y:0;M=ke({val:M,min:B,max:q})}return"translate".concat(b,"(").concat(M,"px)")}),ft=z(()=>({"--vc-carousel-height":Bt(m.height),"--vc-cloned-offset":Bt(Ze.value),"--vc-slide-gap":Bt(m.gap),"--vc-transition-duration":Se.value?Bt(m.transition,"ms"):void 0})),Tt=Ht({activeSlide:H,config:m,currentSlide:D,isSliding:Se,isVertical:ie,maxSlide:be,minSlide:Ee,nav:{slideTo:De,next:xe,prev:ge},normalizedDir:ve,slideRegistry:S,slideSize:_,slides:j,slidesCount:E,viewport:I,visibleRange:_t});tr(Ye,Tt);const Qe=Ht({config:m,currentSlide:D,maxSlide:be,middleSlide:Ie,minSlide:Ee,slideSize:_,slidesCount:E});return p(Ht(Object.assign({data:Qe,next:xe,prev:ge,restartCarousel:Ke,slideTo:De,updateBreakpointsConfig:F,updateSlideSize:W,updateSlidesData:le},ei(Tt)))),()=>{var b;const T=h.default||h.slides,M=(T==null?void 0:T(Qe))||[],{before:Y,after:B}=Ge.value,q=$n({slides:j,position:"before",toShow:Y}),se=$n({slides:j,position:"after",toShow:B}),te=[...q,...M,...se];if(!m.enabled||!te.length)return he("section",{ref:P,class:["carousel","is-disabled"]},te);const Me=((b=h.addons)===null||b===void 0?void 0:b.call(h,Qe))||[],xt=he("ol",{class:"carousel__track",onMousedownCapture:m.mouseDrag?at:null,onTouchstartPassiveCapture:m.touchDrag?at:null,onWheel:m.mouseWheel?st:null,style:{transform:We.value}},te),Je=he("div",{class:"carousel__viewport",ref:I},xt);return he("section",{ref:P,class:["carousel","is-".concat(ve.value),"is-effect-".concat(m.slideEffect),{"is-dragging":At.value,"is-hover":ot.value,"is-sliding":Se.value,"is-vertical":ie.value}],dir:ve.value,style:ft.value,"aria-label":m.i18n.ariaGallery,tabindex:"0",onBlur:Xe,onFocus:He,onMouseenter:Vt,onMouseleave:wt},[Je,Me,he(di)])}}});var dn;(function(a){a.arrowDown="arrowDown",a.arrowLeft="arrowLeft",a.arrowRight="arrowRight",a.arrowUp="arrowUp"})(dn||(dn={}));const Qn=a=>"icon".concat(a.charAt(0).toUpperCase()+a.slice(1)),yi={arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"};function wi(a){return a in dn}const Jn=a=>a&&wi(a),qn=it({props:{name:{type:String,required:!0,validator:Jn},title:{type:String,default:a=>a.name?ee.i18n[Qn(a.name)]:""}},setup(a){const h=yt(Ye,null);return()=>{const d=a.name;if(!d||!Jn(d))return;const p=yi[d],g=he("path",{d:p}),S=(h==null?void 0:h.config.i18n[Qn(d)])||a.title,j=he("title",S);return he("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":S},[j,g])}}}),ji=it({name:"CarouselNavigation",inheritAttrs:!1,props:{carousel:{type:Object}},setup(a,{slots:h,attrs:d}){let p=yt(Ye,null);const{next:g,prev:S}=h,j=()=>({btt:"arrowDown",ltr:"arrowLeft",rtl:"arrowRight",ttb:"arrowUp"})[p.normalizedDir],E=()=>({btt:"arrowUp",ltr:"arrowRight",rtl:"arrowLeft",ttb:"arrowDown"})[p.normalizedDir],P=z(()=>!p.config.wrapAround&&p.currentSlide<=p.minSlide),I=z(()=>!p.config.wrapAround&&p.currentSlide>=p.maxSlide);return()=>{if(a.carousel&&(p=a.carousel),!p)return console.warn("[vue3-carousel]: A carousel component must be provided for the navigation component to display"),"";const{i18n:_}=p.config,N=he("button",Object.assign(Object.assign({type:"button",disabled:P.value,"aria-label":_.ariaPreviousSlide,title:_.ariaPreviousSlide,onClick:p.nav.prev},d),{class:["carousel__prev",{"carousel__prev--disabled":P.value},d.class]}),(S==null?void 0:S())||he(qn,{name:j()})),m=he("button",Object.assign(Object.assign({type:"button",disabled:I.value,"aria-label":_.ariaNextSlide,title:_.ariaNextSlide,onClick:p.nav.next},d),{class:["carousel__next",{"carousel__next--disabled":I.value},d.class]}),(g==null?void 0:g())||he(qn,{name:E()}));return[N,m]}}}),Oi=it({name:"CarouselPagination",props:{disableOnClick:{type:Boolean},paginateByItemsToShow:{type:Boolean},carousel:{type:Object}},setup(a){let h=yt(Ye,null);const d=z(()=>h.config.itemsToShow),p=z(()=>fn({align:h.config.snapAlign,itemsToShow:d.value})),g=z(()=>a.paginateByItemsToShow&&d.value>1),S=z(()=>Math.ceil((h.activeSlide-p.value)/d.value)),j=z(()=>Math.ceil(h.slidesCount/d.value)),E=P=>lr(g.value?{val:S.value,max:j.value-1,min:0}:{val:h.activeSlide,max:h.maxSlide,min:h.minSlide})===P;return()=>{var P,I;if(a.carousel&&(h=a.carousel),!h)return console.warn("[vue3-carousel]: A carousel component must be provided for the pagination component to display"),"";const _=[];for(let N=g.value?0:h.minSlide;N<=(g.value?j.value-1:h.maxSlide);N++){const m=ur(h.config.i18n[g.value?"ariaNavigateToPage":"ariaNavigateToSlide"],{slideNumber:N+1}),D=E(N),H=he("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":D},"aria-label":m,"aria-pressed":D,"aria-controls":(I=(P=h.slides[N])===null||P===void 0?void 0:P.exposed)===null||I===void 0?void 0:I.id,title:m,disabled:a.disableOnClick,onClick:()=>h.nav.slideTo(g.value?Math.floor(N*+h.config.itemsToShow+p.value):N)}),re=he("li",{class:"carousel__pagination-item",key:N},H);_.push(re)}return he("ol",{class:"carousel__pagination"},_)}}}),Ri=it({name:"CarouselSlide",props:{id:{type:String,default:a=>a.isClone?void 0:Zr()},index:{type:Number,default:void 0},isClone:{type:Boolean,default:!1}},setup(a,{attrs:h,slots:d,expose:p}){const g=yt(Ye);if(tr(Ye,void 0),!g)return()=>"";const S=ue(a.index),j=H=>{S.value=H},E=Qr(),P=()=>{const H=E.vnode.el;return H?H.getBoundingClientRect():{width:0,height:0}};p({id:a.id,setIndex:j,getBoundingRect:P});const I=z(()=>S.value===g.activeSlide),_=z(()=>S.value===g.activeSlide-1),N=z(()=>S.value===g.activeSlide+1),m=z(()=>S.value>=g.visibleRange.min&&S.value<=g.visibleRange.max),D=z(()=>{if(g.config.itemsToShow==="auto")return;const H=g.config.itemsToShow,re=g.config.gap>0&&H>1?"calc(".concat(100/H,"% - ").concat(g.config.gap*(H-1)/H,"px)"):"".concat(100/H,"%");return g.isVertical?{height:re}:{width:re}});return g.slideRegistry.registerSlide(E,a.index),Jr(()=>{g.slideRegistry.unregisterSlide(E)}),a.isClone&&(vn(()=>{Zn(E.vnode)}),qr(()=>{Zn(E.vnode)})),()=>{var H,re;return g.config.enabled?he("li",{style:[h.style,Object.assign({},D.value)],class:{carousel__slide:!0,"carousel__slide--clone":a.isClone,"carousel__slide--visible":m.value,"carousel__slide--active":I.value,"carousel__slide--prev":_.value,"carousel__slide--next":N.value,"carousel__slide--sliding":g.isSliding},onFocusin:()=>{g.viewport&&(g.viewport.scrollLeft=0),g.nav.slideTo(S.value)},id:a.isClone?void 0:a.id,"aria-hidden":a.isClone||void 0},(re=d.default)===null||re===void 0?void 0:re.call(d,{currentIndex:S.value,isActive:I.value,isClone:a.isClone,isPrev:_.value,isNext:N.value,isSliding:g.isSliding,isVisible:m.value})):(H=d.default)===null||H===void 0?void 0:H.call(d)}}});var bi={};(function(){var a;function h(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function p(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof rt=="object"&&rt];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var g=p(this);function S(e,t){if(t)e:{var n=g;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&t!=null&&d(n,e,{configurable:!0,writable:!0,value:t})}}S("Symbol",function(e){function t(u){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(r+(u||"")+"_"+i++,u)}function n(u,o){this.h=u,d(this,"description",{configurable:!0,writable:!0,value:o})}if(e)return e;n.prototype.toString=function(){return this.h};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return t}),S("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=g[t[n]];typeof r=="function"&&typeof r.prototype[e]!="function"&&d(r.prototype,e,{configurable:!0,writable:!0,value:function(){return j(h(this))}})}return e});function j(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function E(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:h(e)}}function P(e){if(!(e instanceof Array)){e=E(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var I=typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};S("Object.assign",function(e){return e||I});var _=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},N;if(typeof Object.setPrototypeOf=="function")N=Object.setPrototypeOf;else{var m;e:{var D={a:!0},H={};try{H.__proto__=D,m=H.a;break e}catch(e){}m=!1}N=m?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var re=N;function Ie(e,t){if(e.prototype=_(t.prototype),e.prototype.constructor=e,re)re(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.za=t.prototype}function be(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function Ee(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}be.prototype.u=function(e){this.i=e};function de(e,t){e.l={ma:t,na:!0},e.h=e.s||e.v}be.prototype.return=function(e){this.l={return:e},this.h=this.v};function K(e,t,n){return e.h=n,{value:t}}function Ne(e){this.h=new be,this.i=e}function Ue(e,t){Ee(e.h);var n=e.h.j;return n?ve(e,"return"in n?n.return:function(r){return{value:r,done:!0}},t,e.h.return):(e.h.return(t),Z(e))}function ve(e,t,n,r){try{var i=t.call(e.h.j,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.h.m=!1,i;var u=i.value}catch(o){return e.h.j=null,de(e.h,o),Z(e)}return e.h.j=null,r.call(e.h,u),Z(e)}function Z(e){for(;e.h.h;)try{var t=e.i(e.h);if(t)return e.h.m=!1,{value:t.value,done:!1}}catch(n){e.h.i=void 0,de(e.h,n)}if(e.h.m=!1,e.h.l){if(t=e.h.l,e.h.l=null,t.na)throw t.ma;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function ie(e){this.next=function(t){return Ee(e.h),e.h.j?t=ve(e,e.h.j.next,t,e.h.u):(e.h.u(t),t=Z(e)),t},this.throw=function(t){return Ee(e.h),e.h.j?t=ve(e,e.h.j.throw,t,e.h.u):(de(e.h,t),t=Z(e)),t},this.return=function(t){return Ue(e,t)},this[Symbol.iterator]=function(){return this}}function s(e){function t(r){return e.next(r)}function n(r){return e.throw(r)}return new Promise(function(r,i){function u(o){o.done?r(o.value):Promise.resolve(o.value).then(t,n).then(u,i)}u(e.next())})}function f(e){return s(new ie(new Ne(e)))}S("Promise",function(e){function t(o){this.i=0,this.j=void 0,this.h=[],this.u=!1;var l=this.l();try{o(l.resolve,l.reject)}catch(c){l.reject(c)}}function n(){this.h=null}function r(o){return o instanceof t?o:new t(function(l){l(o)})}if(e)return e;n.prototype.i=function(o){if(this.h==null){this.h=[];var l=this;this.j(function(){l.m()})}this.h.push(o)};var i=g.setTimeout;n.prototype.j=function(o){i(o,0)},n.prototype.m=function(){for(;this.h&&this.h.length;){var o=this.h;this.h=[];for(var l=0;l<o.length;++l){var c=o[l];o[l]=null;try{c()}catch(v){this.l(v)}}}this.h=null},n.prototype.l=function(o){this.j(function(){throw o})},t.prototype.l=function(){function o(v){return function(w){c||(c=!0,v.call(l,w))}}var l=this,c=!1;return{resolve:o(this.I),reject:o(this.m)}},t.prototype.I=function(o){if(o===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(o instanceof t)this.L(o);else{e:switch(typeof o){case"object":var l=o!=null;break e;case"function":l=!0;break e;default:l=!1}l?this.F(o):this.s(o)}},t.prototype.F=function(o){var l=void 0;try{l=o.then}catch(c){this.m(c);return}typeof l=="function"?this.M(l,o):this.s(o)},t.prototype.m=function(o){this.v(2,o)},t.prototype.s=function(o){this.v(1,o)},t.prototype.v=function(o,l){if(this.i!=0)throw Error("Cannot settle("+o+", "+l+"): Promise already settled in state"+this.i);this.i=o,this.j=l,this.i===2&&this.K(),this.H()},t.prototype.K=function(){var o=this;i(function(){if(o.D()){var l=g.console;typeof l<"u"&&l.error(o.j)}},1)},t.prototype.D=function(){if(this.u)return!1;var o=g.CustomEvent,l=g.Event,c=g.dispatchEvent;return typeof c>"u"?!0:(typeof o=="function"?o=new o("unhandledrejection",{cancelable:!0}):typeof l=="function"?o=new l("unhandledrejection",{cancelable:!0}):(o=g.document.createEvent("CustomEvent"),o.initCustomEvent("unhandledrejection",!1,!0,o)),o.promise=this,o.reason=this.j,c(o))},t.prototype.H=function(){if(this.h!=null){for(var o=0;o<this.h.length;++o)u.i(this.h[o]);this.h=null}};var u=new n;return t.prototype.L=function(o){var l=this.l();o.T(l.resolve,l.reject)},t.prototype.M=function(o,l){var c=this.l();try{o.call(l,c.resolve,c.reject)}catch(v){c.reject(v)}},t.prototype.then=function(o,l){function c(x,A){return typeof x=="function"?function(C){try{v(x(C))}catch(k){w(k)}}:A}var v,w,L=new t(function(x,A){v=x,w=A});return this.T(c(o,v),c(l,w)),L},t.prototype.catch=function(o){return this.then(void 0,o)},t.prototype.T=function(o,l){function c(){switch(v.i){case 1:o(v.j);break;case 2:l(v.j);break;default:throw Error("Unexpected state: "+v.i)}}var v=this;this.h==null?u.i(c):this.h.push(c),this.u=!0},t.resolve=r,t.reject=function(o){return new t(function(l,c){c(o)})},t.race=function(o){return new t(function(l,c){for(var v=E(o),w=v.next();!w.done;w=v.next())r(w.value).T(l,c)})},t.all=function(o){var l=E(o),c=l.next();return c.done?r([]):new t(function(v,w){function L(C){return function(k){x[C]=k,A--,A==0&&v(x)}}var x=[],A=0;do x.push(void 0),A++,r(c.value).T(L(x.length-1),w),c=l.next();while(!c.done)})},t});function F(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var u=n++;return{value:t(u,e[u]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}S("Array.prototype.keys",function(e){return e||function(){return F(this,function(t){return t})}}),S("Array.prototype.fill",function(e){return e||function(t,n,r){var i=this.length||0;for(0>n&&(n=Math.max(0,i+n)),(r==null||r>i)&&(r=i),r=Number(r),0>r&&(r=Math.max(0,i+r)),n=Number(n||0);n<r;n++)this[n]=t;return this}});function O(e){return e||Array.prototype.fill}S("Int8Array.prototype.fill",O),S("Uint8Array.prototype.fill",O),S("Uint8ClampedArray.prototype.fill",O),S("Int16Array.prototype.fill",O),S("Uint16Array.prototype.fill",O),S("Int32Array.prototype.fill",O),S("Uint32Array.prototype.fill",O),S("Float32Array.prototype.fill",O),S("Float64Array.prototype.fill",O),S("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),S("Array.prototype.includes",function(e){return e||function(t,n){var r=this;r instanceof String&&(r=String(r));var i=r.length;for(n=n||0,0>n&&(n=Math.max(n+i,0));n<i;n++){var u=r[n];if(u===t||Object.is(u,t))return!0}return!1}}),S("String.prototype.includes",function(e){return e||function(t,n){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(t,n||0)!==-1}});var V=this||self;function U(e,t){e=e.split(".");var n=V;e[0]in n||typeof n.execScript>"u"||n.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)e.length||t===void 0?n[r]&&n[r]!==Object.prototype[r]?n=n[r]:n=n[r]={}:n[r]=t}function y(e){var t;e:{if((t=V.navigator)&&(t=t.userAgent))break e;t=""}return t.indexOf(e)!=-1}var R=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=typeof e=="string"?e.split(""):e,u=0;u<n;u++)u in i&&(r[u]=t.call(void 0,i[u],u,e));return r},G={},W=null;function le(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):"=.".indexOf(e[t-1])!=-1&&(n="=.".indexOf(e[t-2])!=-1?n-2:n-1);var r=new Uint8Array(n),i=0;return Le(e,function(u){r[i++]=u}),i!==n?r.subarray(0,i):r}function Le(e,t){function n(c){for(;r<e.length;){var v=e.charAt(r++),w=W[v];if(w!=null)return w;if(!/^[\s\xa0]*$/.test(v))throw Error("Unknown base64 encoding at char: "+v)}return c}oe();for(var r=0;;){var i=n(-1),u=n(0),o=n(64),l=n(64);if(l===64&&i===-1)break;t(i<<2|u>>4),o!=64&&(t(u<<4&240|o>>2),l!=64&&t(o<<6&192|l))}}function oe(){if(!W){W={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));G[n]=r;for(var i=0;i<r.length;i++){var u=r[i];W[u]===void 0&&(W[u]=i)}}}}var pe=typeof Uint8Array<"u",Ce=!(y("Trident")||y("MSIE"))&&typeof V.btoa=="function";function Ae(e){if(!Ce){var t;t===void 0&&(t=0),oe(),t=G[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",i=0,u=0;i<e.length-2;i+=3){var o=e[i],l=e[i+1],c=e[i+2],v=t[o>>2];o=t[(o&3)<<4|l>>4],l=t[(l&15)<<2|c>>6],c=t[c&63],n[u++]=v+o+l+c}switch(v=0,c=r,e.length-i){case 2:v=e[i+1],c=t[(v&15)<<2]||r;case 1:e=e[i],n[u]=t[e>>2]+t[(e&3)<<4|v>>4]+c+r}return n.join("")}for(t="";10240<e.length;)t+=String.fromCharCode.apply(null,e.subarray(0,10240)),e=e.subarray(10240);return t+=String.fromCharCode.apply(null,e),btoa(t)}var ot=RegExp("[-_.]","g");function Vt(e){switch(e){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function wt(e){if(!Ce)return le(e);ot.test(e)&&(e=e.replace(ot,Vt)),e=atob(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}var ut;function Xe(){return ut||(ut=new Uint8Array(0))}var He={},bt=typeof Uint8Array.prototype.slice=="function",J=0,ae=0;function Se(e){var t=0>e;e=Math.abs(e);var n=e>>>0;e=Math.floor((e-n)/4294967296),t&&(n=E(Et(n,e)),t=n.next().value,e=n.next().value,n=t),J=n>>>0,ae=e>>>0}var Wt=typeof BigInt=="function";function Et(e,t){return t=~t,e?e=~e+1:t+=1,[e,t]}function lt(e,t){this.i=e>>>0,this.h=t>>>0}function At(e){if(!e)return at||(at=new lt(0,0));if(!/^-?\d+$/.test(e))return null;if(16>e.length)Se(Number(e));else if(Wt)e=BigInt(e),J=Number(e&BigInt(4294967295))>>>0,ae=Number(e>>BigInt(32)&BigInt(4294967295));else{var t=+(e[0]==="-");ae=J=0;for(var n=e.length,r=t,i=(n-t)%6+t;i<=n;r=i,i+=6)r=Number(e.slice(r,i)),ae*=1e6,J=1e6*J+r,4294967296<=J&&(ae+=J/4294967296|0,J%=4294967296);t&&(t=E(Et(J,ae)),e=t.next().value,t=t.next().value,J=e,ae=t)}return new lt(J,ae)}var at;function St(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function st(){return Error("Failed to read varint, encoding is invalid.")}function xe(e,t){return Error("Tried to read past the end of the data "+t+" > "+e)}function ge(){throw Error("Invalid UTF8")}function De(e,t){return t=String.fromCharCode.apply(null,t),e==null?t:e+t}var Ke=void 0,$e,Ge=typeof TextDecoder<"u",Ze,ct=typeof TextEncoder<"u",Ve;function _t(e){if(e!==He)throw Error("illegal external caller")}function We(e,t){if(_t(t),this.V=e,e!=null&&e.length===0)throw Error("ByteString should be constructed with non-empty values")}function ft(){return Ve||(Ve=new We(null,He))}function zt(e){_t(He);var t=e.V;return t=t==null||pe&&t!=null&&t instanceof Uint8Array?t:typeof t=="string"?wt(t):null,t==null?t:e.V=t}function Tt(e){if(typeof e=="string")return{buffer:wt(e),C:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),C:!1};if(e.constructor===Uint8Array)return{buffer:e,C:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),C:!1};if(e.constructor===We)return{buffer:zt(e)||Xe(),C:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Qe(e,t){this.i=null,this.m=!1,this.h=this.j=this.l=0,b(this,e,t)}function b(e,t,n){n=n===void 0?{}:n,e.S=n.S===void 0?!1:n.S,t&&(t=Tt(t),e.i=t.buffer,e.m=t.C,e.l=0,e.j=e.i.length,e.h=e.l)}Qe.prototype.reset=function(){this.h=this.l};function T(e,t){if(e.h=t,t>e.j)throw xe(e.j,t)}function M(e){var t=e.i,n=e.h,r=t[n++],i=r&127;if(r&128&&(r=t[n++],i|=(r&127)<<7,r&128&&(r=t[n++],i|=(r&127)<<14,r&128&&(r=t[n++],i|=(r&127)<<21,r&128&&(r=t[n++],i|=r<<28,r&128&&t[n++]&128&&t[n++]&128&&t[n++]&128&&t[n++]&128&&t[n++]&128)))))throw st();return T(e,n),i}function Y(e,t){if(0>t)throw Error("Tried to read a negative byte length: "+t);var n=e.h,r=n+t;if(r>e.j)throw xe(t,e.j-n);return e.h=r,n}var B=[];function q(){this.h=[]}q.prototype.length=function(){return this.h.length},q.prototype.end=function(){var e=this.h;return this.h=[],e};function se(e,t,n){for(;0<n||127<t;)e.h.push(t&127|128),t=(t>>>7|n<<25)>>>0,n>>>=7;e.h.push(t)}function te(e,t){for(;127<t;)e.h.push(t&127|128),t>>>=7;e.h.push(t)}function Me(e,t){if(B.length){var n=B.pop();b(n,e,t),e=n}else e=new Qe(e,t);this.h=e,this.j=this.h.h,this.i=this.l=-1,this.setOptions(t)}Me.prototype.setOptions=function(e){e=e===void 0?{}:e,this.ca=e.ca===void 0?!1:e.ca},Me.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function xt(e){var t=e.h;if(t.h==t.j)return!1;e.j=e.h.h;var n=M(e.h)>>>0;if(t=n>>>3,n&=7,!(0<=n&&5>=n))throw St(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.l=t,e.i=n,!0}function Je(e){switch(e.i){case 0:if(e.i!=0)Je(e);else e:{e=e.h;for(var t=e.h,n=t+10,r=e.i;t<n;)if(!(r[t++]&128)){T(e,t);break e}throw st()}break;case 1:e=e.h,T(e,e.h+8);break;case 2:e.i!=2?Je(e):(t=M(e.h)>>>0,e=e.h,T(e,e.h+t));break;case 5:e=e.h,T(e,e.h+4);break;case 3:t=e.l;do{if(!xt(e))throw Error("Unmatched start-group tag: stream EOF");if(e.i==4){if(e.l!=t)throw Error("Unmatched end-group tag");break}Je(e)}while(!0);break;default:throw St(e.i,e.j)}}var jt=[];function ar(){this.j=[],this.i=0,this.h=new q}function qe(e,t){t.length!==0&&(e.j.push(t),e.i+=t.length)}function sr(e,t){if(t=t.R){qe(e,e.h.end());for(var n=0;n<t.length;n++)qe(e,zt(t[n])||Xe())}}var Pe=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function ze(e,t){return Pe?e[Pe]|=t:e.A!==void 0?e.A|=t:(Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}}),t)}function pn(e,t){Pe?e[Pe]&&(e[Pe]&=~t):e.A!==void 0&&(e.A&=~t)}function ne(e){var t;return Pe?t=e[Pe]:t=e.A,t==null?0:t}function je(e,t){Pe?e[Pe]=t:e.A!==void 0?e.A=t:Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}})}function Yt(e){return ze(e,1),e}function cr(e,t){je(t,(e|0)&-51)}function Ot(e,t){je(t,(e|18)&-41)}var Xt={};function Rt(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&e.constructor===Object}var ht,gn=[];je(gn,23),ht=Object.freeze(gn);function Kt(e){if(ne(e.o)&2)throw Error("Cannot mutate an immutable Message")}function $t(e){var t=e.length;(t=t?e[t-1]:void 0)&&Rt(t)?t.g=1:(t={},e.push((t.g=1,t)))}function mn(e){var t=e.i+e.G;return e.B||(e.B=e.o[t]={})}function _e(e,t){return t===-1?null:t>=e.i?e.B?e.B[t]:void 0:e.o[t+e.G]}function Oe(e,t,n,r){Kt(e),dt(e,t,n,r)}function dt(e,t,n,r){e.j&&(e.j=void 0),t>=e.i||r?mn(e)[t]=n:(e.o[t+e.G]=n,(e=e.B)&&t in e&&delete e[t])}function Zt(e,t,n,r){var i=_e(e,t);Array.isArray(i)||(i=ht);var u=ne(i);if(u&1||Yt(i),r)u&2||ze(i,2),n&1||Object.freeze(i);else{r=!(n&2);var o=u&2;n&1||!o?r&&u&16&&!o&&pn(i,16):(i=Yt(Array.prototype.slice.call(i)),dt(e,t,i))}return i}function Qt(e,t){var n=_e(e,t),r=n==null?n:typeof n=="number"||n==="NaN"||n==="Infinity"||n==="-Infinity"?Number(n):void 0;return r!=null&&r!==n&&dt(e,t,r),r}function yn(e,t,n,r,i){e.h||(e.h={});var u=e.h[n],o=Zt(e,n,3,i);if(!u){var l=o;u=[];var c=!!(ne(e.o)&16);o=!!(ne(l)&2);var v=l;!i&&o&&(l=Array.prototype.slice.call(l));for(var w=o,L=0;L<l.length;L++){var x=l[L],A=t,C=!1;if(C=C===void 0?!1:C,x=Array.isArray(x)?new A(x):C?new A:void 0,x!==void 0){A=x.o;var k=C=ne(A);o&&(k|=2),c&&(k|=16),k!=C&&je(A,k),A=k,w=w||!!(2&A),u.push(x)}}return e.h[n]=u,c=ne(l),t=c|33,t=w?t&-9:t|8,c!=t&&(w=l,Object.isFrozen(w)&&(w=Array.prototype.slice.call(w)),je(w,t),l=w),v!==l&&dt(e,n,l),(i||r&&o)&&ze(u,2),r&&Object.freeze(u),u}return i||(i=Object.isFrozen(u),r&&!i?Object.freeze(u):!r&&i&&(u=Array.prototype.slice.call(u),e.h[n]=u)),u}function Jt(e,t,n){var r=!!(ne(e.o)&2);if(t=yn(e,t,n,r,r),e=Zt(e,n,3,r),!(r||ne(e)&8)){for(r=0;r<t.length;r++){if(n=t[r],ne(n.o)&2){var i=_n(n,!1);i.j=n}else i=n;n!==i&&(t[r]=i,e[r]=i.o)}ze(e,8)}return t}function Re(e,t,n){if(n!=null&&typeof n!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof n+": "+n);Oe(e,t,n)}function wn(e,t,n,r,i){Kt(e);var u=yn(e,n,t,!1,!1);return n=r!=null?r:new n,e=Zt(e,t,2,!1),i!=null?(u.splice(i,0,n),e.splice(i,0,n.o)):(u.push(n),e.push(n.o)),n.C()&&pn(e,8),n}function Ft(e,t){return e==null?t:e}function Fe(e,t,n){return n=n===void 0?0:n,Ft(Qt(e,t),n)}var It;function fr(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e)if(Array.isArray(e)){if(ne(e)&128)return e=Array.prototype.slice.call(e),$t(e),e}else{if(pe&&e!=null&&e instanceof Uint8Array)return Ae(e);if(e instanceof We){var t=e.V;return t==null?"":typeof t=="string"?t:e.V=Ae(t)}}}return e}function bn(e,t,n,r){if(e!=null){if(Array.isArray(e))e=qt(e,t,n,r!==void 0);else if(Rt(e)){var i={},u;for(u in e)i[u]=bn(e[u],t,n,r);e=i}else e=t(e,r);return e}}function qt(e,t,n,r){var i=ne(e);r=r?!!(i&16):void 0,e=Array.prototype.slice.call(e);for(var u=0;u<e.length;u++)e[u]=bn(e[u],t,n,r);return n(i,e),e}function hr(e){return e.ja===Xt?e.toJSON():fr(e)}function dr(e,t){e&128&&$t(t)}function En(e,t,n){if(n=n===void 0?Ot:n,e!=null){if(pe&&e instanceof Uint8Array)return e.length?new We(new Uint8Array(e),He):ft();if(Array.isArray(e)){var r=ne(e);return r&2?e:t&&!(r&32)&&(r&16||r===0)?(je(e,r|2),e):(e=qt(e,En,r&4?Ot:n,!0),t=ne(e),t&4&&t&2&&Object.freeze(e),e)}return e.ja===Xt?Sn(e):e}}function An(e,t,n,r,i,u,o){if(e=e.h&&e.h[n]){if(r=ne(e),r&2?r=e:(u=R(e,Sn),Ot(r,u),Object.freeze(u),r=u),Kt(t),o=r==null?ht:Yt([]),r!=null){for(u=!!r.length,e=0;e<r.length;e++){var l=r[e];u=u&&!(ne(l.o)&2),o[e]=l.o}u=(u?8:0)|1,e=ne(o),(e&u)!==u&&(Object.isFrozen(o)&&(o=Array.prototype.slice.call(o)),je(o,e|u)),t.h||(t.h={}),t.h[n]=r}else t.h&&(t.h[n]=void 0);dt(t,n,o,i)}else Oe(t,n,En(r,u,o),i)}function Sn(e){return ne(e.o)&2||(e=_n(e,!0),ze(e.o,2)),e}function _n(e,t){var n=e.o,r=[];ze(r,16);var i=e.constructor.h;if(i&&r.push(i),i=e.B,i){r.length=n.length,r.fill(void 0,r.length,n.length);var u={};r[r.length-1]=u}ne(n)&128&&$t(r),t=t||e.C()?Ot:cr,u=e.constructor,It=r,r=new u(r),It=void 0,e.R&&(r.R=e.R.slice()),u=!!(ne(n)&16);for(var o=i?n.length-1:n.length,l=0;l<o;l++)An(e,r,l-e.G,n[l],!1,u,t);if(i)for(var c in i)An(e,r,+c,i[c],!0,u,t);return r}function me(e,t,n){e==null&&(e=It),It=void 0;var r=this.constructor.i||0,i=0<r,u=this.constructor.h,o=!1;if(e==null){e=u?[u]:[];var l=48,c=!0;i&&(r=0,l|=128),je(e,l)}else{if(!Array.isArray(e)||u&&u!==e[0])throw Error();var v=l=ze(e,0);if((c=(16&v)!==0)&&((o=(32&v)!==0)||(v|=32)),i){if(128&v)r=0;else if(0<e.length){var w=e[e.length-1];if(Rt(w)&&"g"in w){r=0,v|=128,delete w.g;var L=!0,x;for(x in w){L=!1;break}L&&e.pop()}}}else if(128&v)throw Error();l!==v&&je(e,v)}this.G=(u?0:-1)-r,this.h=void 0,this.o=e;e:{if(u=this.o.length,r=u-1,u&&(u=this.o[r],Rt(u))){this.B=u,this.i=r-this.G;break e}t!==void 0&&-1<t?(this.i=Math.max(t,r+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!i&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(n){t=c&&!o&&!0,i=this.i;var A;for(c=0;c<n.length;c++)o=n[c],o<i?(o+=this.G,(r=e[o])?Tn(r,t):e[o]=ht):(A||(A=mn(this)),(r=A[o])?Tn(r,t):A[o]=ht)}}me.prototype.toJSON=function(){return qt(this.o,hr,dr)},me.prototype.C=function(){return!!(ne(this.o)&2)};function Tn(e,t){if(Array.isArray(e)){var n=ne(e),r=1;!t||n&2||(r|=16),(n&r)!==r&&je(e,n|r)}}me.prototype.ja=Xt,me.prototype.toString=function(){return this.o.toString()};function xn(e,t,n){if(n){var r={},i;for(i in n){var u=n[i],o=u.ra;o||(r.J=u.xa||u.oa.W,u.ia?(r.aa=In(u.ia),o=function(l){return function(c,v,w){return l.J(c,v,w,l.aa)}}(r)):u.ka?(r.Z=Nn(u.da.P,u.ka),o=function(l){return function(c,v,w){return l.J(c,v,w,l.Z)}}(r)):o=r.J,u.ra=o),o(t,e,u.da),r={J:r.J,aa:r.aa,Z:r.Z}}}sr(t,e)}var Nt=Symbol();function jn(e,t,n){return e[Nt]||(e[Nt]=function(r,i){return t(r,i,n)})}function On(e){var t=e[Nt];if(!t){var n=tn(e);t=function(r,i){return Ln(r,i,n)},e[Nt]=t}return t}function vr(e){var t=e.ia;if(t)return On(t);if(t=e.wa)return jn(e.da.P,t,e.ka)}function pr(e){var t=vr(e),n=e.da,r=e.oa.U;return t?function(i,u){return r(i,u,n,t)}:function(i,u){return r(i,u,n)}}function Rn(e,t){var n=e[t];return typeof n=="function"&&n.length===0&&(n=n(),e[t]=n),Array.isArray(n)&&(pt in n||vt in n||0<n.length&&typeof n[0]=="function")?n:void 0}function Fn(e,t,n,r,i,u){t.P=e[0];var o=1;if(e.length>o&&typeof e[o]!="number"){var l=e[o++];n(t,l)}for(;o<e.length;){n=e[o++];for(var c=o+1;c<e.length&&typeof e[c]!="number";)c++;switch(l=e[o++],c-=o,c){case 0:r(t,n,l);break;case 1:(c=Rn(e,o))?(o++,i(t,n,l,c)):r(t,n,l,e[o++]);break;case 2:c=o++,c=Rn(e,c),i(t,n,l,c,e[o++]);break;case 3:u(t,n,l,e[o++],e[o++],e[o++]);break;case 4:u(t,n,l,e[o++],e[o++],e[o++],e[o++]);break;default:throw Error("unexpected number of binary field arguments: "+c)}}return t}var Lt=Symbol();function In(e){var t=e[Lt];if(!t){var n=en(e);t=function(r,i){return Cn(r,i,n)},e[Lt]=t}return t}function Nn(e,t){var n=e[Lt];return n||(n=function(r,i){return xn(r,i,t)},e[Lt]=n),n}var vt=Symbol();function gr(e,t){e.push(t)}function mr(e,t,n){e.push(t,n.W)}function yr(e,t,n,r){var i=In(r),u=en(r).P,o=n.W;e.push(t,function(l,c,v){return o(l,c,v,u,i)})}function wr(e,t,n,r,i,u){var o=Nn(r,u),l=n.W;e.push(t,function(c,v,w){return l(c,v,w,r,o)})}function en(e){var t=e[vt];return t||(t=Fn(e,e[vt]=[],gr,mr,yr,wr),pt in e&&vt in e&&(e.length=0),t)}var pt=Symbol();function br(e,t){e[0]=t}function Er(e,t,n,r){var i=n.U;e[t]=r?function(u,o,l){return i(u,o,l,r)}:i}function Ar(e,t,n,r,i){var u=n.U,o=On(r),l=tn(r).P;e[t]=function(c,v,w){return u(c,v,w,l,o,i)}}function Sr(e,t,n,r,i,u,o){var l=n.U,c=jn(r,i,u);e[t]=function(v,w,L){return l(v,w,L,r,c,o)}}function tn(e){var t=e[pt];return t||(t=Fn(e,e[pt]={},br,Er,Ar,Sr),pt in e&&vt in e&&(e.length=0),t)}function Ln(e,t,n){for(;xt(t)&&t.i!=4;){var r=t.l,i=n[r];if(!i){var u=n[0];u&&(u=u[r])&&(i=n[r]=pr(u))}if(!i||!i(t,e,r)){i=t,r=e,u=i.j,Je(i);var o=i;if(!o.ca){if(i=o.h.h-u,o.h.h=u,o=o.h,i==0)i=ft();else{if(u=Y(o,i),o.S&&o.m)i=o.i.subarray(u,u+i);else{o=o.i;var l=u;i=u+i,i=l===i?Xe():bt?o.slice(l,i):new Uint8Array(o.subarray(l,i))}i=i.length==0?ft():new We(i,He)}(u=r.R)?u.push(i):r.R=[i]}}}return e}function Cn(e,t,n){for(var r=n.length,i=r%2==1,u=i?1:0;u<r;u+=2)(0,n[u+1])(t,e,n[u]);xn(e,t,i?n[0]:void 0)}function gt(e,t){return{U:e,W:t}}var Te=gt(function(e,t,n){if(e.i!==5)return!1;e=e.h;var r=e.i,i=e.h,u=r[i],o=r[i+1],l=r[i+2];return r=r[i+3],T(e,e.h+4),o=(u<<0|o<<8|l<<16|r<<24)>>>0,e=2*(o>>31)+1,u=o>>>23&255,o&=8388607,Oe(t,n,u==255?o?NaN:1/0*e:u==0?e*Math.pow(2,-149)*o:e*Math.pow(2,u-150)*(o+Math.pow(2,23))),!0},function(e,t,n){if(t=Qt(t,n),t!=null){te(e.h,8*n+5),e=e.h;var r=+t;r===0?0<1/r?J=ae=0:(ae=0,J=2147483648):isNaN(r)?(ae=0,J=2147483647):(r=(n=0>r?-2147483648:0)?-r:r,34028234663852886e22<r?(ae=0,J=(n|2139095040)>>>0):11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),ae=0,J=(n|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),r=Math.round(8388608*r),16777216<=r&&++t,ae=0,J=(n|t+127<<23|r&8388607)>>>0)),n=J,e.h.push(n>>>0&255),e.h.push(n>>>8&255),e.h.push(n>>>16&255),e.h.push(n>>>24&255)}}),_r=gt(function(e,t,n){if(e.i!==0)return!1;var r=e.h,i=0,u=e=0,o=r.i,l=r.h;do{var c=o[l++];i|=(c&127)<<u,u+=7}while(32>u&&c&128);for(32<u&&(e|=(c&127)>>4),u=3;32>u&&c&128;u+=7)c=o[l++],e|=(c&127)<<u;if(T(r,l),128>c)r=i>>>0,c=e>>>0,(e=c&2147483648)&&(r=~r+1>>>0,c=~c>>>0,r==0&&(c=c+1>>>0)),r=4294967296*c+(r>>>0);else throw st();return Oe(t,n,e?-r:r),!0},function(e,t,n){t=_e(t,n),t!=null&&(typeof t=="string"&&At(t),t!=null&&(te(e.h,8*n),typeof t=="number"?(e=e.h,Se(t),se(e,J,ae)):(n=At(t),se(e.h,n.i,n.h))))}),Tr=gt(function(e,t,n){return e.i!==0?!1:(Oe(t,n,M(e.h)),!0)},function(e,t,n){if(t=_e(t,n),t!=null&&t!=null)if(te(e.h,8*n),e=e.h,n=t,0<=n)te(e,n);else{for(t=0;9>t;t++)e.h.push(n&127|128),n>>=7;e.h.push(1)}}),Dn=gt(function(e,t,n){if(e.i!==2)return!1;var r=M(e.h)>>>0;e=e.h;var i=Y(e,r);if(e=e.i,Ge){var u=e,o;(o=$e)||(o=$e=new TextDecoder("utf-8",{fatal:!0})),e=i+r,u=i===0&&e===u.length?u:u.subarray(i,e);try{var l=o.decode(u)}catch(L){if(Ke===void 0){try{o.decode(new Uint8Array([128]))}catch(x){}try{o.decode(new Uint8Array([97])),Ke=!0}catch(x){Ke=!1}}throw!Ke&&($e=void 0),L}}else{l=i,r=l+r,i=[];for(var c=null,v,w;l<r;)v=e[l++],128>v?i.push(v):224>v?l>=r?ge():(w=e[l++],194>v||(w&192)!==128?(l--,ge()):i.push((v&31)<<6|w&63)):240>v?l>=r-1?ge():(w=e[l++],(w&192)!==128||v===224&&160>w||v===237&&160<=w||((u=e[l++])&192)!==128?(l--,ge()):i.push((v&15)<<12|(w&63)<<6|u&63)):244>=v?l>=r-2?ge():(w=e[l++],(w&192)!==128||(v<<28)+(w-144)>>30||((u=e[l++])&192)!==128||((o=e[l++])&192)!==128?(l--,ge()):(v=(v&7)<<18|(w&63)<<12|(u&63)<<6|o&63,v-=65536,i.push((v>>10&1023)+55296,(v&1023)+56320))):ge(),8192<=i.length&&(c=De(c,i),i.length=0);l=De(c,i)}return Oe(t,n,l),!0},function(e,t,n){if(t=_e(t,n),t!=null){var r=!1;if(r=r===void 0?!1:r,ct){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(Ze||(Ze=new TextEncoder)).encode(t)}else{for(var i=0,u=new Uint8Array(3*t.length),o=0;o<t.length;o++){var l=t.charCodeAt(o);if(128>l)u[i++]=l;else{if(2048>l)u[i++]=l>>6|192;else{if(55296<=l&&57343>=l){if(56319>=l&&o<t.length){var c=t.charCodeAt(++o);if(56320<=c&&57343>=c){l=1024*(l-55296)+c-56320+65536,u[i++]=l>>18|240,u[i++]=l>>12&63|128,u[i++]=l>>6&63|128,u[i++]=l&63|128;continue}else o--}if(r)throw Error("Found an unpaired surrogate");l=65533}u[i++]=l>>12|224,u[i++]=l>>6&63|128}u[i++]=l&63|128}}t=i===u.length?u:u.subarray(0,i)}te(e.h,8*n+2),te(e.h,t.length),qe(e,e.h.end()),qe(e,t)}}),Mn=gt(function(e,t,n,r,i){if(e.i!==2)return!1;t=wn(t,n,r),n=e.h.j,r=M(e.h)>>>0;var u=e.h.h+r,o=u-n;if(0>=o&&(e.h.j=u,i(t,e,void 0,void 0,void 0),o=u-e.h.h),o)throw Error("Message parsing ended unexpectedly. Expected to read "+(r+" bytes, instead read "+(r-o)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return e.h.h=u,e.h.j=n,!0},function(e,t,n,r,i){if(t=Jt(t,r,n),t!=null)for(r=0;r<t.length;r++){var u=e;te(u.h,8*n+2);var o=u.h.end();qe(u,o),o.push(u.i),u=o,i(t[r],e),o=e;var l=u.pop();for(l=o.i+o.h.length()-l;127<l;)u.push(l&127|128),l>>>=7,o.i++;u.push(l),o.i++}});function nn(e){return function(t,n){e:{if(jt.length){var r=jt.pop();r.setOptions(n),b(r.h,t,n),t=r}else t=new Me(t,n);try{var i=tn(e),u=Ln(new i.P,t,i);break e}finally{i=t.h,i.i=null,i.m=!1,i.l=0,i.j=0,i.h=0,i.S=!1,t.l=-1,t.i=-1,100>jt.length&&jt.push(t)}u=void 0}return u}}function rn(e){return function(){var t=new ar;Cn(this,t,en(e)),qe(t,t.h.end());for(var n=new Uint8Array(t.i),r=t.j,i=r.length,u=0,o=0;o<i;o++){var l=r[o];n.set(l,u),u+=l.length}return t.j=[n],n}}function et(e){me.call(this,e)}Ie(et,me);var Pn=[et,1,Tr,2,Te,3,Dn,4,Dn];et.prototype.l=rn(Pn);function on(e){me.call(this,e,-1,xr)}Ie(on,me),on.prototype.addClassification=function(e,t){return wn(this,1,et,e,t),this};var xr=[1],jr=nn([on,1,Mn,Pn]);function mt(e){me.call(this,e)}Ie(mt,me);var kn=[mt,1,Te,2,Te,3,Te,4,Te,5,Te];mt.prototype.l=rn(kn);function Un(e){me.call(this,e,-1,Or)}Ie(Un,me);var Or=[1],Rr=nn([Un,1,Mn,kn]);function Ct(e){me.call(this,e)}Ie(Ct,me);var Bn=[Ct,1,Te,2,Te,3,Te,4,Te,5,Te,6,_r],Fr=nn(Bn);Ct.prototype.l=rn(Bn);function Hn(e,t,n){if(n=e.createShader(n===0?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ir(e){return Jt(e,et,1).map(function(t){var n=_e(t,1);return{index:n==null?0:n,qa:Fe(t,2),label:_e(t,3)!=null?Ft(_e(t,3),""):void 0,displayName:_e(t,4)!=null?Ft(_e(t,4),""):void 0}})}function Nr(e){return{x:Fe(e,1),y:Fe(e,2),z:Fe(e,3),visibility:Qt(e,4)!=null?Fe(e,4):void 0}}function un(e){return Jt(Rr(e),mt,1).map(Nr)}function ln(e,t){this.i=e,this.h=t,this.m=0}function Gn(e,t,n){return Lr(e,t),typeof e.h.canvas.transferToImageBitmap=="function"?Promise.resolve(e.h.canvas.transferToImageBitmap()):n?Promise.resolve(e.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(e.h.canvas):(e.j===void 0&&(e.j=document.createElement("canvas")),new Promise(function(r){e.j.height=e.h.canvas.height,e.j.width=e.h.canvas.width,e.j.getContext("2d",{}).drawImage(e.h.canvas,0,0,e.h.canvas.width,e.h.canvas.height),r(e.j)}))}function Lr(e,t){var n=e.h;if(e.s===void 0){var r=Hn(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=Hn(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),u=n.createProgram();if(n.attachShader(u,r),n.attachShader(u,i),n.linkProgram(u),!n.getProgramParameter(u,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(u));r=e.s=u,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),e.l={O:n.getAttribLocation(r,"aVertex"),N:n.getAttribLocation(r,"aTex"),ya:i},e.v=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.v),n.enableVertexAttribArray(e.l.O),n.vertexAttribPointer(e.l.O,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.l.N),n.vertexAttribPointer(e.l.N,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=e.l,n.useProgram(e.s),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.i.bindTexture2d(t.glName),n.enableVertexAttribArray(r.O),n.bindBuffer(n.ARRAY_BUFFER,e.v),n.vertexAttribPointer(r.O,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(r.N,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.O),n.disableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,null),e.i.bindTexture2d(0)}function Cr(e){this.h=e}var Dr=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Mr(e,t){return t+e}function Vn(e,t){window[e]=t}function Pr(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise(function(n){t.addEventListener("load",function(){n()},!1),t.addEventListener("error",function(){n()},!1),document.body.appendChild(t)})}function kr(){return f(function(e){switch(e.h){case 1:return e.s=2,K(e,WebAssembly.instantiate(Dr),4);case 4:e.h=3,e.s=0;break;case 2:return e.s=0,e.l=null,e.return(!1);case 3:return e.return(!0)}})}function an(e){if(this.h=e,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=e&&e.locateFile||Mr,typeof window=="object")var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=t,e.options){t=E(Object.keys(e.options));for(var n=t.next();!n.done;n=t.next()){n=n.value;var r=e.options[n].default;r!==void 0&&(this.l[n]=typeof r=="function"?r():r)}}}a=an.prototype,a.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function Ur(e){var t,n,r,i,u,o,l,c,v,w,L;return f(function(x){switch(x.h){case 1:return e.ga?(t=e.h.files===void 0?[]:typeof e.h.files=="function"?e.h.files(e.l):e.h.files,K(x,kr(),2)):x.return();case 2:if(n=x.i,typeof window=="object")return Vn("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),Vn("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),o=t.filter(function(A){return A.data!==void 0}),l=t.filter(function(A){return A.data===void 0}),c=Promise.all(o.map(function(A){var C=Dt(e,A.url);if(A.path!==void 0){var k=A.path;C=C.then(function(Q){return e.overrideFile(k,Q),Promise.resolve(Q)})}return C})),v=Promise.all(l.map(function(A){return A.simd===void 0||A.simd&&n||!A.simd&&!n?Pr(e.locateFile(A.url,e.ha)):Promise.resolve()})).then(function(){var A,C,k;return f(function(Q){if(Q.h==1)return A=window.createMediapipeSolutionsWasm,C=window.createMediapipeSolutionsPackedAssets,k=e,K(Q,A(C),2);k.i=Q.i,Q.h=0})}),w=function(){return f(function(A){return e.h.graph&&e.h.graph.url?A=K(A,Dt(e,e.h.graph.url),0):(A.h=0,A=void 0),A})}(),K(x,Promise.all([v,c,w]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return r=t.filter(function(A){return A.simd===void 0||A.simd&&n||!A.simd&&!n}).map(function(A){return e.locateFile(A.url,e.ha)}),importScripts.apply(null,P(r)),i=e,K(x,createMediapipeSolutionsWasm(Module),6);case 6:i.i=x.i,e.m=new OffscreenCanvas(1,1),e.i.canvas=e.m,u=e.i.GL.createContext(e.m,{antialias:!1,alpha:!1,va:typeof WebGL2RenderingContext<"u"?2:1}),e.i.GL.makeContextCurrent(u),x.h=4;break;case 7:if(e.m=document.createElement("canvas"),L=e.m.getContext("webgl2",{}),!L&&(L=e.m.getContext("webgl",{}),!L))return alert("Failed to create WebGL canvas context when passing video frame."),x.return();e.K=L,e.i.canvas=e.m,e.i.createContext(e.m,!0,!0,{});case 4:e.j=new e.i.SolutionWasm,e.ga=!1,x.h=0}})}function Br(e){var t,n,r,i,u,o,l,c;return f(function(v){if(v.h==1){if(e.h.graph&&e.h.graph.url&&e.fa===e.h.graph.url)return v.return();if(e.u=!0,!e.h.graph||!e.h.graph.url){v.h=2;return}return e.fa=e.h.graph.url,K(v,Dt(e,e.h.graph.url),3)}for(v.h!=2&&(t=v.i,e.j.loadGraph(t)),n=E(Object.keys(e.D)),r=n.next();!r.done;r=n.next())i=r.value,e.j.overrideFile(i,e.D[i]);if(e.D={},e.h.listeners)for(u=E(e.h.listeners),o=u.next();!o.done;o=u.next())l=o.value,Wr(e,l);c=e.l,e.l={},e.setOptions(c),v.h=0})}a.reset=function(){var e=this;return f(function(t){e.j&&(e.j.reset(),e.s={},e.v={}),t.h=0})},a.setOptions=function(e,t){var n=this;if(t=t||this.h.options){for(var r=[],i=[],u={},o=E(Object.keys(e)),l=o.next();!l.done;u={X:u.X,Y:u.Y},l=o.next())if(l=l.value,!(l in this.l&&this.l[l]===e[l])){this.l[l]=e[l];var c=t[l];c!==void 0&&(c.onChange&&(u.X=c.onChange,u.Y=e[l],r.push(function(v){return function(){var w;return f(function(L){if(L.h==1)return K(L,v.X(v.Y),2);w=L.i,w===!0&&(n.u=!0),L.h=0})}}(u))),c.graphOptionXref&&(l=Object.assign({},{calculatorName:"",calculatorIndex:0},c.graphOptionXref,{valueNumber:c.type===1?e[l]:0,valueBoolean:c.type===0?e[l]:!1,valueString:c.type===2?e[l]:""}),i.push(l)))}(r.length!==0||i.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(i),this.F=(this.F===void 0?[]:this.F).concat(r))}};function Hr(e){var t,n,r,i,u,o,l;return f(function(c){switch(c.h){case 1:if(!e.u)return c.return();if(!e.F){c.h=2;break}t=E(e.F),n=t.next();case 3:if(n.done){c.h=5;break}return r=n.value,K(c,r(),4);case 4:n=t.next(),c.h=3;break;case 5:e.F=void 0;case 2:if(e.H){for(i=new e.i.GraphOptionChangeRequestList,u=E(e.H),o=u.next();!o.done;o=u.next())l=o.value,i.push_back(l);e.j.changeOptions(i),i.delete(),e.H=void 0}e.u=!1,c.h=0}})}a.initialize=function(){var e=this;return f(function(t){return t.h==1?K(t,Ur(e),2):t.h!=3?K(t,Br(e),3):K(t,Hr(e),0)})};function Dt(e,t){var n,r;return f(function(i){return t in e.L?i.return(e.L[t]):(n=e.locateFile(t,""),r=fetch(n).then(function(u){return u.arrayBuffer()}),e.L[t]=r,i.return(r))})}a.overrideFile=function(e,t){this.j?this.j.overrideFile(e,t):this.D[e]=t},a.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},a.send=function(e,t){var n=this,r,i,u,o,l,c,v,w,L;return f(function(x){switch(x.h){case 1:return n.h.inputs?(r=1e3*(t==null?performance.now():t),K(x,n.I,2)):x.return();case 2:return K(x,n.initialize(),3);case 3:for(i=new n.i.PacketDataList,u=E(Object.keys(e)),o=u.next();!o.done;o=u.next())if(l=o.value,c=n.h.inputs[l]){e:{var A=e[l];switch(c.type){case"video":var C=n.s[c.stream];if(C||(C=new ln(n.i,n.K),n.s[c.stream]=C),C.m===0&&(C.m=C.i.createTexture()),typeof HTMLVideoElement<"u"&&A instanceof HTMLVideoElement)var k=A.videoWidth,Q=A.videoHeight;else typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement?(k=A.naturalWidth,Q=A.naturalHeight):(k=A.width,Q=A.height);Q={glName:C.m,width:k,height:Q},k=C.h,k.canvas.width=Q.width,k.canvas.height=Q.height,k.activeTexture(k.TEXTURE0),C.i.bindTexture2d(C.m),k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,A),C.i.bindTexture2d(0),C=Q;break e;case"detections":for(C=n.s[c.stream],C||(C=new Cr(n.i),n.s[c.stream]=C),C.data||(C.data=new C.h.DetectionListData),C.data.reset(A.length),Q=0;Q<A.length;++Q){k=A[Q];var $=C.data,ce=$.setBoundingBox,we=Q,ye=k.la,X=new Ct;if(Re(X,1,ye.sa),Re(X,2,ye.ta),Re(X,3,ye.height),Re(X,4,ye.width),Re(X,5,ye.rotation),Oe(X,6,ye.pa),ye=X.l(),ce.call($,we,ye),k.ea)for($=0;$<k.ea.length;++$){X=k.ea[$],ce=C.data,we=ce.addNormalizedLandmark,ye=Q,X=Object.assign({},X,{visibility:X.visibility?X.visibility:0});var fe=new mt;Re(fe,1,X.x),Re(fe,2,X.y),Re(fe,3,X.z),X.visibility&&Re(fe,4,X.visibility),X=fe.l(),we.call(ce,ye,X)}if(k.ba)for($=0;$<k.ba.length;++$)ce=C.data,we=ce.addClassification,ye=Q,X=k.ba[$],fe=new et,Re(fe,2,X.qa),X.index&&Oe(fe,1,X.index),X.label&&Oe(fe,3,X.label),X.displayName&&Oe(fe,4,X.displayName),X=fe.l(),we.call(ce,ye,X)}C=C.data;break e;default:C={}}}switch(v=C,w=c.stream,c.type){case"video":i.pushTexture2d(Object.assign({},v,{stream:w,timestamp:r}));break;case"detections":L=v,L.stream=w,L.timestamp=r,i.pushDetectionList(L);break;default:throw Error("Unknown input config type: '"+c.type+"'")}}return n.j.send(i),K(x,n.I,4);case 4:i.delete(),x.h=0}})};function Gr(e,t,n){var r,i,u,o,l,c,v,w,L,x,A,C,k,Q;return f(function($){switch($.h){case 1:if(!n)return $.return(t);for(r={},i=0,u=E(Object.keys(n)),o=u.next();!o.done;o=u.next())l=o.value,c=n[l],typeof c!="string"&&c.type==="texture"&&t[c.stream]!==void 0&&++i;1<i&&(e.M=!1),v=E(Object.keys(n)),o=v.next();case 2:if(o.done){$.h=4;break}if(w=o.value,L=n[w],typeof L=="string")return k=r,Q=w,K($,Vr(e,w,t[L]),14);if(x=t[L.stream],L.type==="detection_list"){if(x){for(var ce=x.getRectList(),we=x.getLandmarksList(),ye=x.getClassificationsList(),X=[],fe=0;fe<ce.size();++fe){var Be=Fr(ce.get(fe)),zr=Fe(Be,1),Yr=Fe(Be,2),Xr=Fe(Be,3),Kr=Fe(Be,4),$r=Fe(Be,5,0),Mt=void 0;Mt=Mt===void 0?0:Mt,Be={la:{sa:zr,ta:Yr,height:Xr,width:Kr,rotation:$r,pa:Ft(_e(Be,6),Mt)},ea:un(we.get(fe)),ba:Ir(jr(ye.get(fe)))},X.push(Be)}ce=X}else ce=[];r[w]=ce,$.h=7;break}if(L.type==="proto_list"){if(x){for(ce=Array(x.size()),we=0;we<x.size();we++)ce[we]=x.get(we);x.delete()}else ce=[];r[w]=ce,$.h=7;break}if(x===void 0){$.h=3;break}if(L.type==="float_list"){r[w]=x,$.h=7;break}if(L.type==="proto"){r[w]=x,$.h=7;break}if(L.type!=="texture")throw Error("Unknown output config type: '"+L.type+"'");return A=e.v[w],A||(A=new ln(e.i,e.K),e.v[w]=A),K($,Gn(A,x,e.M),13);case 13:C=$.i,r[w]=C;case 7:L.transform&&r[w]&&(r[w]=L.transform(r[w])),$.h=3;break;case 14:k[Q]=$.i;case 3:o=v.next(),$.h=2;break;case 4:return $.return(r)}})}function Vr(e,t,n){var r;return f(function(i){return typeof n=="number"||n instanceof Uint8Array||n instanceof e.i.Uint8BlobList?i.return(n):n instanceof e.i.Texture2dDataOut?(r=e.v[t],r||(r=new ln(e.i,e.K),e.v[t]=r),i.return(Gn(r,n,e.M))):i.return(void 0)})}function Wr(e,t){for(var n=t.name||"$",r=[].concat(P(t.wants)),i=new e.i.StringList,u=E(t.wants),o=u.next();!o.done;o=u.next())i.push_back(o.value);u=e.i.PacketListener.implement({onResults:function(l){for(var c={},v=0;v<t.wants.length;++v)c[r[v]]=l.get(v);var w=e.listeners[n];w&&(e.I=Gr(e,c,t.outs).then(function(L){L=w(L);for(var x=0;x<t.wants.length;++x){var A=c[r[x]];typeof A=="object"&&A.hasOwnProperty&&A.hasOwnProperty("delete")&&A.delete()}L&&(e.I=L)}))}}),e.j.attachMultiListener(i,u),i.delete()}a.onResults=function(e,t){this.listeners[t||"$"]=e},U("Solution",an),U("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Wn(e){switch(e===void 0&&(e=0),e){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function zn(e){var t=this;e=e||{},this.h=new an({locateFile:e.locateFile,files:function(n){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:Wn(n.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:un},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:un},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(n){var r,i,u;return f(function(o){return o.h==1?(r=Wn(n),i="third_party/mediapipe/modules/pose_landmark/"+r,K(o,Dt(t.h,r),2)):(u=o.i,t.h.overrideFile(i,u),o.return(!0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}a=zn.prototype,a.reset=function(){this.h.reset()},a.close=function(){return this.h.close(),Promise.resolve()},a.onResults=function(e){this.h.onResults(e)},a.initialize=function(){var e=this;return f(function(t){return K(t,e.h.initialize(),0)})},a.send=function(e,t){var n=this;return f(function(r){return K(r,n.h.send(e,t),0)})},a.setOptions=function(e){this.h.setOptions(e)},U("Pose",zn),U("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),U("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),U("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),U("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),U("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),U("VERSION","0.5.1675469404")}).call(rt);var Ei={};(function(){function a(s){var f=0;return function(){return f<s.length?{done:!1,value:s[f++]}:{done:!0}}}var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,f,F){return s==Array.prototype||s==Object.prototype||(s[f]=F.value),s};function d(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof rt=="object"&&rt];for(var f=0;f<s.length;++f){var F=s[f];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var p=d(this);function g(s,f){if(f)e:{var F=p;s=s.split(".");for(var O=0;O<s.length-1;O++){var V=s[O];if(!(V in F))break e;F=F[V]}s=s[s.length-1],O=F[s],f=f(O),f!=O&&f!=null&&h(F,s,{configurable:!0,writable:!0,value:f})}}g("Symbol",function(s){function f(U){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new F(O+(U||"")+"_"+V++,U)}function F(U,y){this.g=U,h(this,"description",{configurable:!0,writable:!0,value:y})}if(s)return s;F.prototype.toString=function(){return this.g};var O="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",V=0;return f}),g("Symbol.iterator",function(s){if(s)return s;s=Symbol("Symbol.iterator");for(var f="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),F=0;F<f.length;F++){var O=p[f[F]];typeof O=="function"&&typeof O.prototype[s]!="function"&&h(O.prototype,s,{configurable:!0,writable:!0,value:function(){return S(a(this))}})}return s});function S(s){return s={next:s},s[Symbol.iterator]=function(){return this},s}function j(s){var f=typeof Symbol<"u"&&Symbol.iterator&&s[Symbol.iterator];return f?f.call(s):{next:a(s)}}function E(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function P(s){if(s.i)throw new TypeError("Generator is already running");s.i=!0}E.prototype.l=function(s){this.o=s};function I(s,f){s.h={F:f,G:!0},s.j=s.m}E.prototype.return=function(s){this.h={return:s},this.j=this.m};function _(s){this.g=new E,this.h=s}function N(s,f){P(s.g);var F=s.g.g;return F?m(s,"return"in F?F.return:function(O){return{value:O,done:!0}},f,s.g.return):(s.g.return(f),D(s))}function m(s,f,F,O){try{var V=f.call(s.g.g,F);if(!(V instanceof Object))throw new TypeError("Iterator result "+V+" is not an object");if(!V.done)return s.g.i=!1,V;var U=V.value}catch(y){return s.g.g=null,I(s.g,y),D(s)}return s.g.g=null,O.call(s.g,U),D(s)}function D(s){for(;s.g.j;)try{var f=s.h(s.g);if(f)return s.g.i=!1,{value:f.value,done:!1}}catch(F){s.g.o=void 0,I(s.g,F)}if(s.g.i=!1,s.g.h){if(f=s.g.h,s.g.h=null,f.G)throw f.F;return{value:f.return,done:!0}}return{value:void 0,done:!0}}function H(s){this.next=function(f){return P(s.g),s.g.g?f=m(s,s.g.g.next,f,s.g.l):(s.g.l(f),f=D(s)),f},this.throw=function(f){return P(s.g),s.g.g?f=m(s,s.g.g.throw,f,s.g.l):(I(s.g,f),f=D(s)),f},this.return=function(f){return N(s,f)},this[Symbol.iterator]=function(){return this}}function re(s){function f(O){return s.next(O)}function F(O){return s.throw(O)}return new Promise(function(O,V){function U(y){y.done?O(y.value):Promise.resolve(y.value).then(f,F).then(U,V)}U(s.next())})}g("Promise",function(s){function f(y){this.h=0,this.i=void 0,this.g=[],this.o=!1;var R=this.j();try{y(R.resolve,R.reject)}catch(G){R.reject(G)}}function F(){this.g=null}function O(y){return y instanceof f?y:new f(function(R){R(y)})}if(s)return s;F.prototype.h=function(y){if(this.g==null){this.g=[];var R=this;this.i(function(){R.l()})}this.g.push(y)};var V=p.setTimeout;F.prototype.i=function(y){V(y,0)},F.prototype.l=function(){for(;this.g&&this.g.length;){var y=this.g;this.g=[];for(var R=0;R<y.length;++R){var G=y[R];y[R]=null;try{G()}catch(W){this.j(W)}}}this.g=null},F.prototype.j=function(y){this.i(function(){throw y})},f.prototype.j=function(){function y(W){return function(le){G||(G=!0,W.call(R,le))}}var R=this,G=!1;return{resolve:y(this.A),reject:y(this.l)}},f.prototype.A=function(y){if(y===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(y instanceof f)this.C(y);else{e:switch(typeof y){case"object":var R=y!=null;break e;case"function":R=!0;break e;default:R=!1}R?this.v(y):this.m(y)}},f.prototype.v=function(y){var R=void 0;try{R=y.then}catch(G){this.l(G);return}typeof R=="function"?this.D(R,y):this.m(y)},f.prototype.l=function(y){this.u(2,y)},f.prototype.m=function(y){this.u(1,y)},f.prototype.u=function(y,R){if(this.h!=0)throw Error("Cannot settle("+y+", "+R+"): Promise already settled in state"+this.h);this.h=y,this.i=R,this.h===2&&this.B(),this.H()},f.prototype.B=function(){var y=this;V(function(){if(y.I()){var R=p.console;typeof R<"u"&&R.error(y.i)}},1)},f.prototype.I=function(){if(this.o)return!1;var y=p.CustomEvent,R=p.Event,G=p.dispatchEvent;return typeof G>"u"?!0:(typeof y=="function"?y=new y("unhandledrejection",{cancelable:!0}):typeof R=="function"?y=new R("unhandledrejection",{cancelable:!0}):(y=p.document.createEvent("CustomEvent"),y.initCustomEvent("unhandledrejection",!1,!0,y)),y.promise=this,y.reason=this.i,G(y))},f.prototype.H=function(){if(this.g!=null){for(var y=0;y<this.g.length;++y)U.h(this.g[y]);this.g=null}};var U=new F;return f.prototype.C=function(y){var R=this.j();y.s(R.resolve,R.reject)},f.prototype.D=function(y,R){var G=this.j();try{y.call(R,G.resolve,G.reject)}catch(W){G.reject(W)}},f.prototype.then=function(y,R){function G(oe,pe){return typeof oe=="function"?function(Ce){try{W(oe(Ce))}catch(Ae){le(Ae)}}:pe}var W,le,Le=new f(function(oe,pe){W=oe,le=pe});return this.s(G(y,W),G(R,le)),Le},f.prototype.catch=function(y){return this.then(void 0,y)},f.prototype.s=function(y,R){function G(){switch(W.h){case 1:y(W.i);break;case 2:R(W.i);break;default:throw Error("Unexpected state: "+W.h)}}var W=this;this.g==null?U.h(G):this.g.push(G),this.o=!0},f.resolve=O,f.reject=function(y){return new f(function(R,G){G(y)})},f.race=function(y){return new f(function(R,G){for(var W=j(y),le=W.next();!le.done;le=W.next())O(le.value).s(R,G)})},f.all=function(y){var R=j(y),G=R.next();return G.done?O([]):new f(function(W,le){function Le(Ce){return function(Ae){oe[Ce]=Ae,pe--,pe==0&&W(oe)}}var oe=[],pe=0;do oe.push(void 0),pe++,O(G.value).s(Le(oe.length-1),le),G=R.next();while(!G.done)})},f});var Ie=typeof Object.assign=="function"?Object.assign:function(s,f){for(var F=1;F<arguments.length;F++){var O=arguments[F];if(O)for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(s[V]=O[V])}return s};g("Object.assign",function(s){return s||Ie});var be=this||self,Ee={facingMode:"user",width:640,height:480};function de(s,f){this.video=s,this.i=0,this.h=Object.assign(Object.assign({},Ee),f)}de.prototype.stop=function(){var s=this,f,F,O,V;return re(new H(new _(function(U){if(s.g){for(f=s.g.getTracks(),F=j(f),O=F.next();!O.done;O=F.next())V=O.value,V.stop();s.g=void 0}U.j=0})))},de.prototype.start=function(){var s=this,f;return re(new H(new _(function(F){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),f=s.h,F.return(navigator.mediaDevices.getUserMedia({video:{facingMode:f.facingMode,width:f.width,height:f.height}}).then(function(O){Ne(s,O)}).catch(function(O){var V="Failed to acquire camera feed: "+O;throw console.error(V),alert(V),O}))})))};function K(s){window.requestAnimationFrame(function(){Ue(s)})}function Ne(s,f){s.g=f,s.video.srcObject=f,s.video.onloadedmetadata=function(){s.video.play(),K(s)}}function Ue(s){var f=null;s.video.paused||s.video.currentTime===s.i||(s.i=s.video.currentTime,f=s.h.onFrame()),f?f.then(function(){K(s)}):K(s)}var ve=["Camera"],Z=be;ve[0]in Z||typeof Z.execScript>"u"||Z.execScript("var "+ve[0]);for(var ie;ve.length&&(ie=ve.shift());)ve.length||de===void 0?Z[ie]&&Z[ie]!==Object.prototype[ie]?Z=Z[ie]:Z=Z[ie]={}:Z[ie]=de}).call(rt);const Ai={style:{width:"100%",height:"100%",position:"relative"}},Si={key:1,class:"underlayer",style:{position:"absolute",inset:"0","z-index":"2",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",background:"rgba(0,0,0,0.55)",color:"white","text-align":"center",padding:"20px",gap:"10px"}},_i={key:2},Fi={__name:"CameraView",setup(a,{expose:h}){const d=ue(null),p=ue(null),g=ue(null),S=ue(!1),j=ue(!0),E=ue(!1);vn(async()=>{try{if(navigator.permissions&&(await navigator.permissions.query({name:"camera"})).state==="denied"){E.value=!0;return}const I=ni({video:!0,audio:!1});p.value=I.stream.value,d.value.srcObject=p.value;const _=new bi.Pose({locateFile:m=>"https://cdn.jsdelivr.net/npm/@mediapipe/pose/".concat(m)});_.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!1,minDetectionConfidence:.6,minTrackingConfidence:.6});const N=new Ei.Camera(d.value,{onFrame:async()=>{await _.send({image:d.value})},width:500,height:500});g.value=N,await N.start(),S.value=!0}catch(I){I.name==="NotAllowedError"||I.name==="PermissionDeniedError"?E.value=!0:j.value=!1}});const P=()=>{try{g.value&&g.value.stop&&g.value.stop()}catch(I){}try{if(d.value&&d.value.srcObject){const I=d.value.srcObject;I.getTracks&&I.getTracks().forEach(_=>_.stop()),d.value.srcObject=null}}catch(I){}try{p.value&&p.value.getTracks&&p.value.getTracks().forEach(I=>I.stop())}catch(I){}p.value=null,S.value=!1};return er(()=>P()),h({video:d,stopCamera:P,cameraReady:S,hasCamera:j,permissionDenied:E}),(I,_)=>(nt(),tt("div",Ai,[j.value&&!E.value?(nt(),tt("video",{key:0,ref_key:"video",ref:d,autoplay:"",playsinline:"",style:{width:"100%",height:"100%","object-fit":"cover","z-index":"1"}},null,512)):Yn("",!0),!j.value||E.value||!S.value?(nt(),tt("div",Si,[j.value?E.value?(nt(),tt(Xn,{key:1},[_[3]||(_[3]=kt("span",{style:{color:"red","font-weight":"bold"}}," Camera permission was denied.",-1)),kt("button",{onClick:_[1]||(_[1]=N=>I.window.location.reload()),style:{padding:"10px 20px","font-size":"1.1em"}},"Retry")],64)):(nt(),tt("span",_i,"Loading camera...")):(nt(),tt(Xn,{key:0},[_[2]||(_[2]=kt("span",{style:{color:"red","font-weight":"bold"}}," No camera detected on this device.",-1)),kt("button",{onClick:_[0]||(_[0]=N=>I.window.location.reload()),style:{padding:"10px 20px","font-size":"1.1em"}},"Retry")],64))])):Yn("",!0)]))}};export{xi as C,ji as N,Oi as P,Ri as S,Fi as _};
