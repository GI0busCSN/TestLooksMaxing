const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-jAn6tIzm.js","assets/index-D6G6WiCR.css"])))=>i.map(i=>d[i]);
import{i as o,b as m,o as _,w as n,e as C,f as r,r as l,d as w,g as c,u as B,p as E,q as L}from"./index-jAn6tIzm.js";import R from"./ArticleParser-IMUTZ0ga.js";import"./LoadingScreen-DhSZQcZo.js";const v="https://raw.githubusercontent.com/GI0busCSN/LooksMax-Articles/refs/heads/main/TermsOfUse.json",N={__name:"TermsOfUse",setup(A){const g=E(()=>L(()=>import("./index-jAn6tIzm.js").then(t=>t.ap),__vite__mapDeps([0,1])));o();const i=o(),d=o(null),y=o([]),s=o(!1),u=o(!0);async function f(t){console.log("Fetching trainings...");try{s.value=!0;const a=await(await fetch(t)).json();return s.value=!1,M(),console.log("Trainings fetched:",a),u.value=!0,a}catch(e){return u.value=!1,s.value=!1,setTimeout(()=>{i.value.open()},300),console.error("Failed to fetch trainings:",e),[]}}const x=async()=>{console.log("PARSED"),d.value.parseArticle(await f(v))},M=()=>{var t;(t=i.value)==null||t.dismiss(),u.value||closeModal()};return(t,e)=>{const a=l("LoadingScreen"),p=l("MaxText"),T=l("MaxButton"),k=l("BaseLayout");return _(),m(k,null,{default:n(()=>[y.value.length===0?(_(),m(a,{key:0})):C("",!0),r(R,{ref_key:"parserObj",ref:d,onReady:e[0]||(e[0]=b=>x())},null,512),r(B(g),{ref_key:"modalError",ref:i,title:"Failed Connection"},{default:n(()=>[r(p,{class:"large center"},{default:n(()=>[...e[2]||(e[2]=[c(" Connection to the server failedâŒ ",-1)])]),_:1}),r(p,{class:"description center"},{default:n(()=>[...e[3]||(e[3]=[c(" Please check your network connection and try againðŸ›œ ",-1)])]),_:1}),e[5]||(e[5]=w("br",null,null,-1)),r(T,{size:"250",disabled:s.value,onClick:e[1]||(e[1]=b=>f(v))},{default:n(()=>[...e[4]||(e[4]=[c("Retry",-1)])]),_:1},8,["disabled"])]),_:1},512)]),_:1})}}};export{N as default};
