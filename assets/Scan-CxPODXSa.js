import{_ as I,c as b,r as D,a as O,o as m,b as p,d as k,w as E,e as J,t as x,n as P,f as B,u as U,g as Z,I as G,h as $,i as Q,j as H,F as K,k as q,s as W}from"./index-BHHRSQZA.js";import{t as X,u as Y}from"./useIDBKeyval-D_wVPeQ7-Dr4B771v.js";const ee={__name:"CardRating",props:["card"],setup(r){const t=r,n=b(()=>{const e=t.card.rating;return e<4?"red":e>=4&&e<7?"yellow":e>=7?"green":"gray"});return console.log(t.card.rating),(e,o)=>{const h=D("MaxText");return m(),O("div",{class:"card",style:P("background-image: url('".concat(t.card.img,"')"))},[p("div",{class:"card__inner",style:P("box-shadow: 0px -79px 50px -69px ".concat(n.value," inset; :hover {display: none}"))},[k(h,{class:"large invert"},{default:E(()=>[J(x(t.card.rating),1)]),_:1})],4)],4)}}},te=I(ee,[["__scopeId","data-v-1d0bb65e"]]),ne={class:"card"},ie={__name:"CardAddNew",setup(r){return(t,n)=>{const e=D("ion-icon");return m(),B(U(G),{tab:"createScan",href:"/TestLooksMaxing/tabs/scan/createScan"},{default:E(()=>[p("div",ne,[k(e,{"aria-hidden":"true",icon:U(Z)},null,8,["icon"])])]),_:1})}}},ae=I(ie,[["__scopeId","data-v-5c0ee189"]]),re={class:"dropdown"},se={class:"header"},oe={class:"content"},ce={key:0,class:"list"},le={class:"content"},ue={__name:"MaxDropdown",props:["defaultValue"],emits:["valueChanged"],setup(r,{emit:t}){const n=$(!1),e=t,o=r,h=[{id:0,icon:"ðŸ†•",title:"By New"},{id:1,icon:"ðŸ“‰",title:"By Old"},{id:2,icon:"ðŸ“ˆ",title:"By Rating"}],u=$(h[0]);if(o.defaultValue!==void 0){console.log("props.defaultValue",o.defaultValue);const s=h.find(d=>d.id===o.defaultValue),C=h.find(d=>d.title===o.defaultValue);u.value=s||C||h[0]}else console.log("props.defaultValue",o.defaultValue);function y(s){u.value=s,n.value=!1}return Q(u,s=>{e("valueChanged",s.id)},{immediate:!0}),(s,C)=>{const d=D("MaxButton");return m(),O("div",re,[p("div",se,[k(d,{class:"bg-transparent align-right",onClick:C[0]||(C[0]=g=>n.value=!n.value),size:150},{default:E(()=>[p("div",oe,[p("span",null,x(u.value.icon),1),p("span",null,x(u.value.title),1)])]),_:1})]),n.value?(m(),O("div",ce,[p("ul",null,[(m(!0),O(K,null,q(h.filter(g=>g.id!==u.value.id),g=>(m(),O("li",{key:g.id},[k(d,{class:"bg-transparent",size:150,onClick:S=>y(g)},{default:E(()=>[p("div",le,[p("span",null,x(g.icon),1),p("span",null,x(g.title),1)])]),_:2},1032,["onClick"])]))),128))])])):H("",!0)])}}},de=I(ue,[["__scopeId","data-v-e504fea7"]]);var L={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var R;function fe(){if(R)return L;R=1,L.parse=u,L.serialize=C;var r=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,e=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,h=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(a,l){if(typeof a!="string")throw new TypeError("argument str must be a string");var i={},f=a.length;if(f<2)return i;var w=l&&l.decode||d,c=0,_=0,v=0;do{if(_=a.indexOf("=",c),_===-1)break;if(v=a.indexOf(";",c),v===-1)v=f;else if(_>v){c=a.lastIndexOf(";",_-1)+1;continue}var T=y(a,c,_),V=s(a,_,T),z=a.slice(T,V);if(!t.call(i,z)){var A=y(a,_+1,v),j=s(a,v,A);a.charCodeAt(A)===34&&a.charCodeAt(j-1)===34&&(A++,j--);var F=a.slice(A,j);i[z]=S(F,w)}c=v+1}while(c<f);return i}function y(a,l,i){do{var f=a.charCodeAt(l);if(f!==32&&f!==9)return l}while(++l<i);return i}function s(a,l,i){for(;l>i;){var f=a.charCodeAt(--l);if(f!==32&&f!==9)return l+1}return i}function C(a,l,i){var f=i&&i.encode||encodeURIComponent;if(typeof f!="function")throw new TypeError("option encode is invalid");if(!n.test(a))throw new TypeError("argument name is invalid");var w=f(l);if(!e.test(w))throw new TypeError("argument val is invalid");var c=a+"="+w;if(!i)return c;if(i.maxAge!=null){var _=Math.floor(i.maxAge);if(!isFinite(_))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+_}if(i.domain){if(!o.test(i.domain))throw new TypeError("option domain is invalid");c+="; Domain="+i.domain}if(i.path){if(!h.test(i.path))throw new TypeError("option path is invalid");c+="; Path="+i.path}if(i.expires){var v=i.expires;if(!g(v)||isNaN(v.valueOf()))throw new TypeError("option expires is invalid");c+="; Expires="+v.toUTCString()}if(i.httpOnly&&(c+="; HttpOnly"),i.secure&&(c+="; Secure"),i.partitioned&&(c+="; Partitioned"),i.priority){var T=typeof i.priority=="string"?i.priority.toLowerCase():i.priority;switch(T){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(i.sameSite){var V=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(V){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c}function d(a){return a.indexOf("%")!==-1?decodeURIComponent(a):a}function g(a){return r.call(a)==="[object Date]"}function S(a,l){try{return l(a)}catch(i){return a}}return L}var N=fe();function he(){const r=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof r=="boolean"?r:typeof document=="object"&&typeof document.cookie=="string"}function ge(r){return typeof r=="string"?N.parse(r):typeof r=="object"&&r!==null?r:{}}function M(r,t={}){const n=pe(r);if(!t.doNotParse)try{return JSON.parse(n)}catch(e){}return r}function pe(r){return r&&r[0]==="j"&&r[1]===":"?r.substr(2):r}class ve{constructor(t,n={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const o=this.cookies;this.cookies=N.parse(document.cookie),this._checkChanges(o)};const e=typeof document>"u"?"":document.cookie;this.cookies=ge(t||e),this.defaultSetOptions=n,this.HAS_DOCUMENT_COOKIE=he()}_emitChange(t){for(let n=0;n<this.changeListeners.length;++n)this.changeListeners[n](t)}_checkChanges(t){new Set(Object.keys(t).concat(Object.keys(this.cookies))).forEach(e=>{t[e]!==this.cookies[e]&&this._emitChange({name:e,value:M(this.cookies[e])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(t,n={}){return n.doNotUpdate||this.update(),M(this.cookies[t],n)}getAll(t={}){t.doNotUpdate||this.update();const n={};for(let e in this.cookies)n[e]=M(this.cookies[e],t);return n}set(t,n,e){e?e=Object.assign(Object.assign({},this.defaultSetOptions),e):e=this.defaultSetOptions;const o=typeof n=="string"?n:JSON.stringify(n);this.cookies=Object.assign(Object.assign({},this.cookies),{[t]:o}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=N.serialize(t,o,e)),this._emitChange({name:t,value:n,options:e})}remove(t,n){const e=n=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),n),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=N.serialize(t,"",e)),this._emitChange({name:t,value:void 0,options:n})}addChangeListener(t){this.changeListeners.push(t),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(t){const n=this.changeListeners.indexOf(t);n>=0&&this.changeListeners.splice(n,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}function _e(r,{doNotParse:t=!1,autoUpdateDependencies:n=!1}={},e=new ve){const o=n?[...r||[]]:r;let h=e.getAll({doNotParse:!0});const u=W(0),y=()=>{const s=e.getAll({doNotParse:!0});me(o||null,s,h)&&u.value++,h=s};return e.addChangeListener(y),X(()=>{e.removeChangeListener(y)}),{get:(...s)=>(n&&o&&!o.includes(s[0])&&o.push(s[0]),u.value,e.get(s[0],{doNotParse:t,...s[1]})),getAll:(...s)=>(u.value,e.getAll({doNotParse:t,...s[0]})),set:(...s)=>e.set(...s),remove:(...s)=>e.remove(...s),addChangeListener:(...s)=>e.addChangeListener(...s),removeChangeListener:(...s)=>e.removeChangeListener(...s)}}function me(r,t,n){if(!r)return!0;for(const e of r)if(t[e]!==n[e])return!0;return!1}const ye={class:"dropdown"},Ce={class:"cards"},we={__name:"Scan",setup(r){const{data:t}=Y("res",[]),n=_e(["sortingType"]),e=n.get("sortingType"),o=$(e!==void 0?parseInt(e):1),h=b(()=>[...t.value||[]]),u=b(()=>[...t.value||[]].reverse()),y=b(()=>[...t.value||[]].sort((d,g)=>{var l,i,f,w;const S=((i=(l=d.res)==null?void 0:l[0])==null?void 0:i.averageScore)||0;return(((w=(f=g.res)==null?void 0:f[0])==null?void 0:w.averageScore)||0)-S})),s=b(()=>{switch(o.value){case 1:return h.value;case 0:return u.value;case 2:return y.value;default:return u.value}});function C(d){o.value=d,n.set("sortingType",d),console.log("Sort mode updated to:",d)}return console.log("sortMode.value",o.value),(d,g)=>{const S=D("BaseLayout");return m(),B(S,null,{default:E(()=>[p("div",ye,[o.value>=0?(m(),B(de,{key:0,onValueChanged:C,defaultValue:o.value},null,8,["defaultValue"])):H("",!0)]),p("div",Ce,[k(ae),(m(!0),O(K,null,q(s.value,a=>{var l,i;return m(),O("div",{class:"card",key:a.id},[k(te,{card:{img:a.firstP,rating:((i=(l=a.res)==null?void 0:l[0])==null?void 0:i.averageScore)||0}},null,8,["card"])])}),128))])]),_:1})}}},ke=I(we,[["__scopeId","data-v-0aab4268"]]);export{ke as default};
