System.register(["./index-legacy-n9z6QscD.js","./CameraView-legacy-CzjK2AAD.js"],function(e,a){"use strict";var t,l,i,o,s,n,r,d,c,u,v,f,p,_,g,h,m,y,b,x,w,k,C,z,T;return{setters:[e=>{t=e._,l=e.h,i=e.i,o=e.r,s=e.a,n=e.o,r=e.d,d=e.w,c=e.u,u=e.b,v=e.e,f=e.a6,p=e.a7,_=e.a8,g=e.a9,h=e.f,m=e.j,y=e.aa,b=e.t,x=e.F},e=>{w=e.S,k=e.N,C=e.P,z=e.C,T=e._}],execute:function(){var a=document.createElement("style");a.textContent=".tutorial[data-v-56583a7b]{width:100%;height:100%}.carousel__item .overlay[data-v-56583a7b]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(90,90,90,.9);z-index:10}.carousel__item .slide__inner[data-v-56583a7b]{position:relative;width:100%;z-index:20}.video-container[data-v-bef23a26]{display:flex;justify-content:center;align-items:center;width:100%}.video-container__sizer[data-v-bef23a26]{width:500px;height:500px;max-width:90vw;max-height:90vw;border-radius:16px;overflow:hidden;background-color:#000;position:relative}.video-container__sizer video[data-v-bef23a26]{z-index:1;width:100%;height:100%;object-fit:cover}.video-container__sizer .underlayer[data-v-bef23a26]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:rgba(0,0,0,.55);color:#fff;text-align:center;padding:20px;gap:10px;transition:opacity .3s ease}.frontFace[data-v-bef23a26]{text-align:center}.blub[data-v-bef23a26]{color:#ff0}.description.error[data-v-bef23a26]{color:red;font-weight:700}.upload-button[data-v-bef23a26]{display:inline-block;position:relative;margin-top:10px}\n",document.head.appendChild(a);const S={class:"tutorial"},M={class:"carousel__item"},j={class:"slide__inner"},F={class:"carousel__item"},I={class:"slide__inner"},L={class:"carousel__item"},R={class:"slide__inner"},D=t({__name:"ScanTutorialSide",emits:["tutorial-complete"],setup(e,{emit:a}){const t=l(!1),_={itemsToShow:1,wrapAround:!1,height:500,gap:0},g=a;return i(t,e=>{e&&g("tutorial-complete")}),(e,a)=>{const l=o("MaxText"),i=o("MaxButton");return n(),s("div",S,[r(c(z),f(p(_)),{addons:d(()=>[r(c(k)),r(c(C))]),default:d(()=>[r(c(w),null,{default:d(()=>[u("div",M,[a[5]||(a[5]=u("div",{class:"overlay"},null,-1)),u("div",j,[r(l,{class:"large"},{default:d(()=>[...a[1]||(a[1]=[v("Get ready📸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[2]||(a[2]=[v("Sit or stand sideways to the camera 📷",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[3]||(a[3]=[v("Keep your face fully in view (don’t crop your chin or head) 🧠",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[4]||(a[4]=[v("Choose a spot with good, soft lighting💡",-1)])]),_:1})])])]),_:1}),r(c(w),null,{default:d(()=>[u("div",F,[a[10]||(a[10]=u("div",{class:"overlay"},null,-1)),u("div",I,[r(l,{class:"large"},{default:d(()=>[...a[6]||(a[6]=[v("Almost there📸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[7]||(a[7]=[v("Turn your head 90° to show your full side profile ↩️",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[8]||(a[8]=[v("Keep your posture straight and shoulders relaxed 🧍‍♀️",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[9]||(a[9]=[v("Look ahead naturally, not up or down 👁️",-1)])]),_:1})])])]),_:1}),r(c(w),null,{default:d(()=>[u("div",L,[a[16]||(a[16]=u("div",{class:"overlay"},null,-1)),u("div",R,[r(l,{class:"large"},{default:d(()=>[...a[11]||(a[11]=[v("You got it📸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[12]||(a[12]=[v("Press the “Take a selfie” button 📸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[13]||(a[13]=[v("Hold still while it captures ⏳",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...a[14]||(a[14]=[v("If you don’t like it — try again 🔁",-1)])]),_:1}),r(i,{class:"large",onClick:a[0]||(a[0]=e=>t.value=!0)},{default:d(()=>[...a[15]||(a[15]=[v("Got it! Let's take a selfie",-1)])]),_:1})])])]),_:1})]),_:1},16)])}}},[["__scopeId","data-v-56583a7b"]]),P={class:"frontFace"},A={class:"video-container"},U={class:"video-container__sizer"},H={class:"inner"},K={class:"tutorial"},N={class:"upload-button"};e("default",t({__name:"SideFaceNonNative",emits:["picture-taken"],setup(e,{emit:a}){const t=l(!1),i=l(),f=l(null),p=l(""),w=l(null);l(!1);const k=a,C=()=>{f.value.click()},z=e=>{const a=e.target.files[0];if(a){p.value=a.name;const e=new FileReader;e.onload=e=>{w.value=e.target.result,i.value.open(),console.log("Uploaded file:",p.value)},e.readAsDataURL(a)}},S=()=>{const e=document.querySelector(".frontFace video");if(e)try{const a=document.createElement("canvas");a.width=e.videoWidth||e.clientWidth||500,a.height=e.videoHeight||e.clientHeight||500;const t=a.getContext("2d");if(!t)return;t.drawImage(e,0,0,a.width,a.height),w.value=a.toDataURL("image/png"),i.value.open(),console.log("📸 Снимок сделан!")}catch(a){console.error("Snapshot error",a)}},M=l(!1);return(e,a)=>{const l=o("MaxText"),p=o("ion-icon"),j=o("MaxButton"),F=o("MaxImage"),I=o("MaxModalPrevent");return n(),s(x,null,[u("div",P,[r(l,null,{default:d(()=>[...a[3]||(a[3]=[v("Take a side selfie",-1)])]),_:1}),u("div",A,[u("div",U,[_(u("div",H,[t.value?(n(),h(T,{key:0,ref_key:"cameraProp",ref:M},null,512)):m("",!0)],512),[[g,t.value]]),u("div",K,[t.value?m("",!0):(n(),h(D,{key:0,onTutorialComplete:a[0]||(a[0]=e=>t.value=!0)}))])])]),a[5]||(a[5]=u("br",null,null,-1)),r(l,{class:"description"},{default:d(()=>[r(p,{"aria-hidden":"true",icon:c(y),class:"blub"},null,8,["icon"]),a[4]||(a[4]=v(" Make sure your face is well lit ",-1))]),_:1}),u("label",N,[r(j,{class:"large",disabled:!t.value,onClick:C,size:250},{default:d(()=>[v(b(t.value?"Upload from library":"Loading..."),1)]),_:1},8,["disabled"]),u("input",{type:"file",ref_key:"fileInput",ref:f,accept:"image/jpeg, image/png",onChange:z,style:{display:"none"}},null,544)]),r(j,{class:"large",disabled:!t.value||M.value.permissionDenied||!M.value.cameraReady,onClick:S,size:250},{default:d(()=>[v(b(t.value&&!M.value.permissionDenied&&M.value.cameraReady?"Take a selfie":"Loading..."),1)]),_:1},8,["disabled"])]),r(I,{ref_key:"modalPreview",ref:i,title:"Are you happy with the photo?"},{default:d(()=>[r(F,{img:w.value,borderRadius:25},null,8,["img"]),a[8]||(a[8]=u("br",null,null,-1)),r(j,{onClick:a[1]||(a[1]=e=>(k("picture-taken",w.value),void i.value.dismissDirect())),size:250},{default:d(()=>[...a[6]||(a[6]=[v("Keep",-1)])]),_:1}),r(j,{onClick:a[2]||(a[2]=e=>{i.value.dismiss()}),size:250},{default:d(()=>[...a[7]||(a[7]=[v("Try again",-1)])]),_:1})]),_:1},512)],64)}}},[["__scopeId","data-v-bef23a26"]]))}}});
