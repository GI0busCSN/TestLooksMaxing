System.register(["./index-legacy-DTKkxKyB.js","./CameraView-legacy-DwIM-uol.js"],function(e,t){"use strict";var a,l,i,o,n,s,r,d,c,u,f,v,p,_,g,h,m,y,b,x,k,w,C,z,T,F;return{setters:[e=>{a=e._,l=e.i,i=e.V,o=e.r,n=e.a,s=e.o,r=e.d,d=e.w,c=e.u,u=e.b,f=e.e,v=e.X,p=e.Y,_=e.Z,g=e.$,h=e.f,m=e.k,y=e.a0,b=e.t,x=e.a1,k=e.F},e=>{w=e.S,C=e.N,z=e.P,T=e.C,F=e._}],execute:function(){var t=document.createElement("style");t.textContent=".tutorial[data-v-965f0934]{width:100%;height:100%}.carousel__item .overlay[data-v-965f0934]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(90,90,90,.9);z-index:10}.carousel__item .slide__inner[data-v-965f0934]{position:relative;width:100%;z-index:20}.video-container[data-v-1efbc13c]{display:flex;justify-content:center;align-items:center;width:100%}.video-container__sizer[data-v-1efbc13c]{width:500px;height:500px;max-width:90vw;max-height:90vw;border-radius:16px;overflow:hidden;background-color:#000;position:relative}.video-container__sizer video[data-v-1efbc13c]{z-index:1;width:100%;height:100%;object-fit:cover}.video-container__sizer .underlayer[data-v-1efbc13c]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:rgba(0,0,0,.55);color:#fff;text-align:center;padding:20px;gap:10px;transition:opacity .3s ease}.frontFace[data-v-1efbc13c]{text-align:center}.blub[data-v-1efbc13c]{color:#ff0}.description.error[data-v-1efbc13c]{color:red;font-weight:700}.upload-button[data-v-1efbc13c]{display:inline-block;position:relative;margin-top:10px}\n",document.head.appendChild(t);const M={class:"tutorial"},S={class:"carousel__item"},I={class:"slide__inner"},L={class:"carousel__item"},R={class:"slide__inner"},j={class:"carousel__item"},D={class:"slide__inner"},A=a({__name:"ScanTutorialFront",emits:["tutorial-complete"],setup(e,{emit:t}){const a=l(!1),_={itemsToShow:1,wrapAround:!1,height:500,gap:0},g=t;return i(a,e=>{e&&g("tutorial-complete")}),(e,t)=>{const l=o("MaxText"),i=o("MaxButton");return s(),n("div",M,[r(c(T),v(p(_)),{addons:d(()=>[r(c(C)),r(c(z))]),default:d(()=>[r(c(w),null,{default:d(()=>[u("div",S,[t[5]||(t[5]=u("div",{class:"overlay"},null,-1)),u("div",I,[r(l,{class:"large"},{default:d(()=>[...t[1]||(t[1]=[f("Get readyðŸ“¸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...t[2]||(t[2]=[f("Sit upright in front of the cameraðŸ§",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...t[3]||(t[3]=[f("Make sure your face is fully visible (no hair covering, no strong shadows)ðŸ˜Š",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...t[4]||(t[4]=[f("Choose a spot with good, soft lightingðŸ’¡",-1)])]),_:1})])])]),_:1}),r(c(w),null,{default:d(()=>[u("div",L,[t[10]||(t[10]=u("div",{class:"overlay"},null,-1)),u("div",R,[r(l,{class:"large"},{default:d(()=>[...t[6]||(t[6]=[f("Almost thereðŸ“¸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...t[7]||(t[7]=[f("Keep your head level (no tilt) âš–ï¸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...t[8]||(t[8]=[f("Look directly into the lens ðŸŽ¯",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...t[9]||(t[9]=[f("Keep expression natural (relaxed, neutral, or slight smile) ðŸ™‚",-1)])]),_:1})])])]),_:1}),r(c(w),null,{default:d(()=>[u("div",j,[t[16]||(t[16]=u("div",{class:"overlay"},null,-1)),u("div",D,[r(l,{class:"large"},{default:d(()=>[...t[11]||(t[11]=[f("You got itðŸ“¸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...t[12]||(t[12]=[f("Press the â€œTake a selfieâ€ button ðŸ“¸",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...t[13]||(t[13]=[f("Hold still while it captures â³",-1)])]),_:1}),r(l,{class:"description"},{default:d(()=>[...t[14]||(t[14]=[f("If you donâ€™t like it â€” try again ðŸ”",-1)])]),_:1}),r(i,{class:"large",onClick:t[0]||(t[0]=e=>a.value=!0)},{default:d(()=>[...t[15]||(t[15]=[f("Got it! Let's take a selfie",-1)])]),_:1})])])]),_:1})]),_:1},16)])}}},[["__scopeId","data-v-965f0934"]]),P={class:"frontFace"},U={class:"video-container"},H={class:"video-container__sizer"},K={class:"inner"},N={class:"tutorial"},B={class:"upload-button"};e("default",a({__name:"FrontFaceNonNative",emits:["picture-taken"],setup(e,{emit:t}){const a=l(!1),i=l(),v=l(null),p=l(""),w=l(null);l(!1);const C=t,z=()=>{v.value.click()},T=e=>{const t=e.target.files[0];if(t){p.value=t.name;const e=new FileReader;e.onload=e=>{w.value=e.target.result,i.value.open(),console.log("Uploaded file:",p.value)},e.readAsDataURL(t)}},M=()=>{const e=document.querySelector(".frontFace video");if(e)try{const t=document.createElement("canvas");t.width=e.videoWidth||e.clientWidth||500,t.height=e.videoHeight||e.clientHeight||500;const a=t.getContext("2d");if(!a)return;a.drawImage(e,0,0,t.width,t.height),w.value=t.toDataURL("image/png"),i.value.open(),console.log("ðŸ“¸ Ð¡Ð½Ð¸Ð¼Ð¾Ðº ÑÐ´ÐµÐ»Ð°Ð½!")}catch(t){console.error("Snapshot error",t)}},S=l(!1);return(e,t)=>{const l=o("MaxText"),p=o("ion-icon"),I=o("MaxButton"),L=o("MaxImage");return s(),n(k,null,[u("div",P,[r(l,null,{default:d(()=>[...t[3]||(t[3]=[f("Take a front selfie",-1)])]),_:1}),u("div",U,[u("div",H,[_(u("div",K,[a.value?(s(),h(F,{key:0,ref_key:"cameraProp",ref:S},null,512)):m("",!0)],512),[[g,a.value]]),u("div",N,[a.value?m("",!0):(s(),h(A,{key:0,onTutorialComplete:t[0]||(t[0]=e=>a.value=!0)}))])])]),t[5]||(t[5]=u("br",null,null,-1)),r(l,{class:"description"},{default:d(()=>[r(p,{"aria-hidden":"true",icon:c(y),class:"blub"},null,8,["icon"]),t[4]||(t[4]=f(" Make sure your face is well lit ",-1))]),_:1}),u("label",B,[r(I,{class:"large",disabled:!a.value,onClick:z,size:400},{default:d(()=>[f(b(a.value?"Upload from library":"Loading..."),1)]),_:1},8,["disabled"]),u("input",{type:"file",ref_key:"fileInput",ref:v,accept:"image/*",onChange:T,style:{display:"none"}},null,544)]),r(I,{class:"large",disabled:!a.value||S.value.permissionDenied||!S.value.cameraReady,onClick:M,size:400},{default:d(()=>[f(b(a.value&&!S.value.permissionDenied&&S.value.cameraReady?"Take a selfie":"Loading..."),1)]),_:1},8,["disabled"])]),r(x,{ref_key:"modalPreview",ref:i,title:"Are you happy with the photo?"},{default:d(()=>[r(L,{img:w.value,borderRadius:25},null,8,["img"]),t[8]||(t[8]=u("br",null,null,-1)),r(I,{onClick:t[1]||(t[1]=e=>(C("picture-taken",w.value),void i.value.dismissDirect())),size:400},{default:d(()=>[...t[6]||(t[6]=[f("Keep",-1)])]),_:1}),r(I,{onClick:t[2]||(t[2]=e=>{i.value.dismiss()}),size:400},{default:d(()=>[...t[7]||(t[7]=[f("Try again",-1)])]),_:1})]),_:1},512)],64)}}},[["__scopeId","data-v-1efbc13c"]]))}}});
