import{_ as D,c as b,r as V,a as w,o as v,b as I,d as g,e as z,T as J,n as R,f as S,w as E,g as Z,t as x,F as P,u as H,h as G,I as Q,i as $,j as W,k as q,s as X}from"./index-29hgtFFF.js";import{t as Y,u as ee}from"./useIDBKeyval-D_wVPeQ7-D2jNqyl4.js";const te={__name:"CardRating",props:["card"],setup(r){const t=r,n=b(()=>{const e=t.card.rating;return e<4?"red":e>=4&&e<7?"yellow":e>=7?"green":"gray"});return console.log(t.card.rating),(e,s)=>{const h=V("MaxText");return v(),w(P,null,[(v(),I(J,{to:"body"},[e.holded?(v(),w("div",{key:0,class:"overlay",onClick:s[0]||(s[0]=u=>e.holded=!1)})):z("",!0)])),g("div",{class:"card",style:R("background-image: url('".concat(t.card.img,"')"))},[g("div",{class:"card__inner",style:R("box-shadow: 0px -79px 50px -69px ".concat(n.value," inset; :hover {display: none}"))},[S(h,{class:"large invert"},{default:E(()=>[Z(x(t.card.rating),1)]),_:1})],4)],4)],64)}}},ne=D(te,[["__scopeId","data-v-91220a35"]]),ie={class:"card"},ae={__name:"CardAddNew",setup(r){return(t,n)=>{const e=V("ion-icon");return v(),I(H(Q),{tab:"createScan",href:"/TestLooksMaxing/tabs/scan/createScan"},{default:E(()=>[g("div",ie,[S(e,{"aria-hidden":"true",icon:H(G)},null,8,["icon"])])]),_:1})}}},re=D(ae,[["__scopeId","data-v-5c0ee189"]]),oe={class:"dropdown"},se={class:"header"},ce={class:"content"},le={key:0,class:"list"},ue={class:"content"},de={__name:"MaxDropdown",props:["defaultValue"],emits:["valueChanged"],setup(r,{emit:t}){const n=$(!1),e=t,s=r,h=[{id:0,icon:"ðŸ†•",title:"By New"},{id:1,icon:"ðŸ“‰",title:"By Old"},{id:2,icon:"ðŸ“ˆ",title:"By Rating"}],u=$(h[0]);if(s.defaultValue!==void 0){console.log("props.defaultValue",s.defaultValue);const o=h.find(d=>d.id===s.defaultValue),C=h.find(d=>d.title===s.defaultValue);u.value=o||C||h[0]}else console.log("props.defaultValue",s.defaultValue);function y(o){u.value=o,n.value=!1}return W(u,o=>{e("valueChanged",o.id)},{immediate:!0}),(o,C)=>{const d=V("MaxButton");return v(),w("div",oe,[g("div",se,[S(d,{class:"bg-transparent align-right",onClick:C[0]||(C[0]=p=>n.value=!n.value),size:150},{default:E(()=>[g("div",ce,[g("span",null,x(u.value.icon),1),g("span",null,x(u.value.title),1)])]),_:1})]),n.value?(v(),w("div",le,[g("ul",null,[(v(!0),w(P,null,q(h.filter(p=>p.id!==u.value.id),p=>(v(),w("li",{key:p.id},[S(d,{class:"bg-transparent",size:150,onClick:k=>y(p)},{default:E(()=>[g("div",ue,[g("span",null,x(p.icon),1),g("span",null,x(p.title),1)])]),_:2},1032,["onClick"])]))),128))])])):z("",!0)])}}},fe=D(de,[["__scopeId","data-v-e504fea7"]]);var L={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var K;function he(){if(K)return L;K=1,L.parse=u,L.serialize=C;var r=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,e=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,h=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(a,l){if(typeof a!="string")throw new TypeError("argument str must be a string");var i={},f=a.length;if(f<2)return i;var O=l&&l.decode||d,c=0,m=0,_=0;do{if(m=a.indexOf("=",c),m===-1)break;if(_=a.indexOf(";",c),_===-1)_=f;else if(m>_){c=a.lastIndexOf(";",m-1)+1;continue}var T=y(a,c,m),j=o(a,m,T),U=a.slice(T,j);if(!t.call(i,U)){var A=y(a,m+1,_),M=o(a,_,A);a.charCodeAt(A)===34&&a.charCodeAt(M-1)===34&&(A++,M--);var F=a.slice(A,M);i[U]=k(F,O)}c=_+1}while(c<f);return i}function y(a,l,i){do{var f=a.charCodeAt(l);if(f!==32&&f!==9)return l}while(++l<i);return i}function o(a,l,i){for(;l>i;){var f=a.charCodeAt(--l);if(f!==32&&f!==9)return l+1}return i}function C(a,l,i){var f=i&&i.encode||encodeURIComponent;if(typeof f!="function")throw new TypeError("option encode is invalid");if(!n.test(a))throw new TypeError("argument name is invalid");var O=f(l);if(!e.test(O))throw new TypeError("argument val is invalid");var c=a+"="+O;if(!i)return c;if(i.maxAge!=null){var m=Math.floor(i.maxAge);if(!isFinite(m))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+m}if(i.domain){if(!s.test(i.domain))throw new TypeError("option domain is invalid");c+="; Domain="+i.domain}if(i.path){if(!h.test(i.path))throw new TypeError("option path is invalid");c+="; Path="+i.path}if(i.expires){var _=i.expires;if(!p(_)||isNaN(_.valueOf()))throw new TypeError("option expires is invalid");c+="; Expires="+_.toUTCString()}if(i.httpOnly&&(c+="; HttpOnly"),i.secure&&(c+="; Secure"),i.partitioned&&(c+="; Partitioned"),i.priority){var T=typeof i.priority=="string"?i.priority.toLowerCase():i.priority;switch(T){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(i.sameSite){var j=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(j){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c}function d(a){return a.indexOf("%")!==-1?decodeURIComponent(a):a}function p(a){return r.call(a)==="[object Date]"}function k(a,l){try{return l(a)}catch(i){return a}}return L}var N=he();function ge(){const r=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof r=="boolean"?r:typeof document=="object"&&typeof document.cookie=="string"}function pe(r){return typeof r=="string"?N.parse(r):typeof r=="object"&&r!==null?r:{}}function B(r,t={}){const n=ve(r);if(!t.doNotParse)try{return JSON.parse(n)}catch(e){}return r}function ve(r){return r&&r[0]==="j"&&r[1]===":"?r.substr(2):r}class _e{constructor(t,n={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const s=this.cookies;this.cookies=N.parse(document.cookie),this._checkChanges(s)};const e=typeof document>"u"?"":document.cookie;this.cookies=pe(t||e),this.defaultSetOptions=n,this.HAS_DOCUMENT_COOKIE=ge()}_emitChange(t){for(let n=0;n<this.changeListeners.length;++n)this.changeListeners[n](t)}_checkChanges(t){new Set(Object.keys(t).concat(Object.keys(this.cookies))).forEach(e=>{t[e]!==this.cookies[e]&&this._emitChange({name:e,value:B(this.cookies[e])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(t,n={}){return n.doNotUpdate||this.update(),B(this.cookies[t],n)}getAll(t={}){t.doNotUpdate||this.update();const n={};for(let e in this.cookies)n[e]=B(this.cookies[e],t);return n}set(t,n,e){e?e=Object.assign(Object.assign({},this.defaultSetOptions),e):e=this.defaultSetOptions;const s=typeof n=="string"?n:JSON.stringify(n);this.cookies=Object.assign(Object.assign({},this.cookies),{[t]:s}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=N.serialize(t,s,e)),this._emitChange({name:t,value:n,options:e})}remove(t,n){const e=n=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),n),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=N.serialize(t,"",e)),this._emitChange({name:t,value:void 0,options:n})}addChangeListener(t){this.changeListeners.push(t),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(t){const n=this.changeListeners.indexOf(t);n>=0&&this.changeListeners.splice(n,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}function me(r,{doNotParse:t=!1,autoUpdateDependencies:n=!1}={},e=new _e){const s=n?[...r||[]]:r;let h=e.getAll({doNotParse:!0});const u=X(0),y=()=>{const o=e.getAll({doNotParse:!0});ye(s||null,o,h)&&u.value++,h=o};return e.addChangeListener(y),Y(()=>{e.removeChangeListener(y)}),{get:(...o)=>(n&&s&&!s.includes(o[0])&&s.push(o[0]),u.value,e.get(o[0],{doNotParse:t,...o[1]})),getAll:(...o)=>(u.value,e.getAll({doNotParse:t,...o[0]})),set:(...o)=>e.set(...o),remove:(...o)=>e.remove(...o),addChangeListener:(...o)=>e.addChangeListener(...o),removeChangeListener:(...o)=>e.removeChangeListener(...o)}}function ye(r,t,n){if(!r)return!0;for(const e of r)if(t[e]!==n[e])return!0;return!1}const Ce={class:"dropdown"},we={class:"cards"},Oe={__name:"Scan",setup(r){const{data:t}=ee("res",[]),n=me(["sortingType"]),e=n.get("sortingType"),s=$(e!==void 0?parseInt(e):1),h=b(()=>[...t.value||[]]),u=b(()=>[...t.value||[]].reverse()),y=b(()=>[...t.value||[]].sort((d,p)=>{var l,i,f,O;const k=((i=(l=d.res)==null?void 0:l[0])==null?void 0:i.averageScore)||0;return(((O=(f=p.res)==null?void 0:f[0])==null?void 0:O.averageScore)||0)-k})),o=b(()=>{switch(s.value){case 1:return h.value;case 0:return u.value;case 2:return y.value;default:return u.value}});function C(d){s.value=d,n.set("sortingType",d),console.log("Sort mode updated to:",d)}return console.log("sortMode.value",s.value),(d,p)=>{const k=V("BaseLayout");return v(),I(k,null,{default:E(()=>[g("div",Ce,[s.value>=0?(v(),I(fe,{key:0,onValueChanged:C,defaultValue:s.value},null,8,["defaultValue"])):z("",!0)]),g("div",we,[S(re),(v(!0),w(P,null,q(o.value,a=>{var l,i;return v(),w("div",{class:"card",key:a.id},[S(ne,{card:{img:a.firstP,rating:((i=(l=a.res)==null?void 0:l[0])==null?void 0:i.averageScore)||0}},null,8,["card"])])}),128))])]),_:1})}}},be=D(Oe,[["__scopeId","data-v-2b1d5a2a"]]);export{be as default};
